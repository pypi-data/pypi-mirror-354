{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Samsara Alert Payload",
    "description": "Schema for Samsara alert action function payloads. All IDs are numeric values stored as strings.",
    "type": "object",
    "required": [
        "driverId",
        "assetId",
        "alertConfigurationId"
    ],
    "properties": {
        "$schema": {
            "type": "string",
            "description": "Reference to this schema file"
        },
        "driverId": {
            "type": "string",
            "description": "Numeric ID of the driver associated with the alert, stored as string. Can be empty if the driver is not known in the context of the alert.",
            "pattern": "^$|^\\d+$",
            "examples": ["123456"],
            "notes": [
                "Can be used with Samsara Drivers API to get driver details",
                "API endpoint: GET /fleet/drivers/{id}",
                "Documentation: https://developers.samsara.com/reference/getdriver"
            ]
        },
        "assetId": {
            "type": "string",
            "description": "Numeric ID of the asset associated with the alert, stored as string. Can be empty if the asset is not known in the context of the alert.",
            "pattern": "^$|^\\d+$",
            "examples": ["789012"],
            "notes": [
                "Can be used with Samsara Vehicles API to get asset details",
                "API endpoint: GET /fleet/vehicles/{id}",
                "Documentation: https://developers.samsara.com/reference/getvehicle"
            ]
        },
        "alertConfigurationId": {
            "type": "string",
            "description": "Numeric ID of the alert configuration that triggered this alert, stored as string",
            "pattern": "^\\d+$",
            "examples": ["345678"],
            "notes": [
                "Can be used to get alert configuration details",
                "API endpoint: GET /fleet/alert-configurations/{id}",
                "Documentation: https://developers.samsara.com/reference/getconfigurations"
            ]
        }
    },
    "additionalProperties": false,
    "examples": [
        {
            "driverId": "123456",
            "assetId": "789012",
            "alertConfigurationId": "345678"
        }
    ],
    "notes": [
        "All IDs are numeric values stored as strings",
        "Each ID can be used with corresponding Samsara API endpoints to get additional context",
        "For more information, see Samsara API documentation"
    ]
} 