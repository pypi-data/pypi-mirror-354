# πΉ PianoRoll Synthesizer Demo κ°€μ΄λ“

## π“‹ κ°μ”

μ΄ λ°λ¨λ” Gradio PianoRoll μ»΄ν¬λ„νΈμ™€ νμ΄μ¬ κΈ°λ° μ‹ λ””μ‚¬μ΄μ €λ¥Ό κ²°ν•©ν• μμ‹μ…λ‹λ‹¤. ν”Όμ•„λ…Έλ΅¤μ—μ„ λ…ΈνΈλ¥Ό νΈμ§‘ν•λ©΄ νμ΄μ¬μ—μ„ μ‹¤μ‹κ°„μΌλ΅ μ¤λ””μ¤λ¥Ό μƒμ„±ν•μ—¬ μ›Ή λΈλΌμ°μ €μ—μ„ μ¬μƒν•  μ μμµλ‹λ‹¤.

## π€ μ‹¤ν–‰ λ°©λ²•

```bash
cd demo
python demo_with_synthesizer.py
```

## πµ κΈ°λ¥ μ„¤λ…

### π“ Basic Demo νƒ­
- κΈ°λ³Έμ μΈ ν”Όμ•„λ…Έλ΅¤ κΈ°λ¥μ„ ν…μ¤νΈν•  μ μμµλ‹λ‹¤
- λ…ΈνΈ νΈμ§‘, κ°€μ‚¬ μ…λ ¥, ν…ν¬ μ΅°μ  λ“± κΈ°λ³Έ κΈ°λ¥μ„ ν™•μΈν•  μ μμµλ‹λ‹¤

### π›οΈ Synthesizer Demo νƒ­
- **μ‹ λ””μ‚¬μ΄μ € κΈ°λ¥**: νμ΄μ¬μ—μ„ μ‹¤μ‹κ°„ μ¤λ””μ¤ μƒμ„±
- **ADSR μ—”λ²¨λ΅ν”„**: Attack, Decay, Sustain, Release λ§¤κ°λ³€μ μ΅°μ 
- **λ°±μ—”λ“ μ¤λ””μ¤**: μƒμ„±λ μ¤λ””μ¤κ°€ ν”„λ΅ νΈμ—”λ“λ΅ μ „λ‹¬λμ–΄ μ¬μƒ

## πΌ μ‚¬μ© λ°©λ²•

### 1οΈβƒ£ λ…ΈνΈ νΈμ§‘
1. **κ·Έλ¦¬κΈ° λ¨λ“**: ν΄λ°”μ—μ„ μ—°ν•„ μ•„μ΄μ½μ„ ν΄λ¦­ν•κ³  κ·Έλ¦¬λ“μ— λ…ΈνΈ κ·Έλ¦¬κΈ°
2. **μ„ νƒ λ¨λ“**: ν™”μ‚΄ν‘ μ•„μ΄μ½μ„ ν΄λ¦­ν•κ³  λ…ΈνΈ μ„ νƒ/μ΄λ™/ν¬κΈ° μ΅°μ 
3. **κ°€μ‚¬ νΈμ§‘**: λ…ΈνΈλ¥Ό λ”λΈ”ν΄λ¦­ν•μ—¬ κ°€μ‚¬ μ…λ ¥
4. **μ‚­μ **: μ§€μ°κ° μ•„μ΄μ½μ„ ν΄λ¦­ν•κ³  λ…ΈνΈ ν΄λ¦­ν•μ—¬ μ‚­μ 

### 2οΈβƒ£ ADSR μ„¤μ •
- **Attack**: μ†λ¦¬κ°€ μ‹μ‘λμ–΄ μµλ€ λ³Όλ¥¨μ— λ„λ‹¬ν•λ” μ‹κ°„
- **Decay**: μµλ€ λ³Όλ¥¨μ—μ„ μ§€μ† λ³Όλ¥¨μΌλ΅ κ°μ†ν•λ” μ‹κ°„
- **Sustain**: μ§€μ†λλ” λ³Όλ¥¨ λ λ²¨ (0-1)
- **Release**: λ…ΈνΈκ°€ λλ‚ ν›„ μ†λ¦¬κ°€ μ‚¬λΌμ§€λ” μ‹κ°„

### 3οΈβƒ£ μ¤λ””μ¤ μƒμ„± λ° μ¬μƒ
1. λ…ΈνΈ νΈμ§‘ μ™„λ£
2. ADSR λ§¤κ°λ³€μ μ΅°μ 
3. **"π¶ Synthesize Audio"** λ²„νΌ ν΄λ¦­
4. μ¤λ””μ¤ μƒμ„± μ™„λ£ ν›„ ν”Όμ•„λ…Έλ΅¤μ μ¬μƒ λ²„νΌμΌλ΅ μ¬μƒ

## π”§ κΈ°μ μ  μ„Έλ¶€μ‚¬ν•­

### μ‹ λ””μ‚¬μ΄μ € κµ¬ν„
- **Oscillator**: μ‚¬μΈν κΈ°λ°
- **Envelope**: ADSR μ—”λ²¨λ΅ν”„ μ μ©
- **Format**: 44.1kHz, 16-bit PCM, λ¨λ…Έ
- **Encoding**: base64 μΈμ½”λ”©λ WAV λ°μ΄ν„°

### λ°μ΄ν„° νλ¦„
1. ν”Όμ•„λ…Έλ΅¤μ—μ„ λ…ΈνΈ λ°μ΄ν„° μμ§‘
2. νμ΄μ¬μ—μ„ κ° λ…ΈνΈλ¥Ό μ‚¬μΈνλ΅ λ³€ν™
3. ADSR μ—”λ²¨λ΅ν”„ μ μ©
4. λ¨λ“  λ…ΈνΈ λ―Ήμ‹±
5. WAVλ΅ μΈμ½”λ”© ν›„ base64 λ³€ν™
6. PianoRoll μ»΄ν¬λ„νΈμ `audio_data`λ΅ μ „λ‹¬
7. ν”„λ΅ νΈμ—”λ“μ—μ„ λ°±μ—”λ“ μ¤λ””μ¤ μ¬μƒ

### μ¶”κ°€ λ°μ΄ν„° μμ‹
- **Curve Data**: ν”ΌμΉ κ³΅μ„  (λΉ„λΈλΌν†  ν¨κ³Ό)
- **Segment Data**: λ°μ νƒ€μ΄λ° μ •λ³΄

## π― μ΄λ²¤νΈ μ‹μ¤ν…

### μ§€μ›λλ” μ΄λ²¤νΈ
- **play**: μ¬μƒ λ²„νΌ ν΄λ¦­ μ‹
- **pause**: μΌμ‹μ •μ§€ λ²„νΌ ν΄λ¦­ μ‹
- **stop**: μ •μ§€ λ²„νΌ ν΄λ¦­ μ‹
- **input**: κ°€μ‚¬ μμ • μ‹ (G2P μ‹¤ν–‰μ©)
- **change**: λ…ΈνΈ/ν…ν¬ λ³€κ²½ μ‹

### μ‚¬μ© μμ‹
```python
def handle_play(event_data):
    print("μ¬μƒ μ‹μ‘:", event_data)
    # μ—¬κΈ°μ„ μ¶”κ°€ μ¬μƒ λ΅μ§ κµ¬ν„
    return "μ¬μƒ μ¤‘..."

piano_roll.play(handle_play, outputs=status_text)
```

## π› οΈ μ»¤μ¤ν„°λ§μ΄μ§•

### μ‹ λ””μ‚¬μ΄μ € κ°μ„ 
- λ‹¤λ¥Έ νν• νƒ€μ… μ¶”κ°€ (square, sawtooth, triangle)
- ν•„ν„° μ¶”κ°€ (lowpass, highpass)
- λ¦¬λ²„λΈ, λ”λ μ΄ λ“± μ΄ν™νΈ μ¶”κ°€
- λ³µμ΅ν• μ‹ λ””μ‚¬μ΄μ € μ•κ³ λ¦¬μ¦ (FM, AM ν•©μ„±)

### λ°±μ—”λ“ λ°μ΄ν„° ν™μ©
- μ‹¤μ  μμ„± ν•©μ„± μ—”μ§„ μ—°λ™
- μ¤λ””μ¤ λ¶„μ„ κ²°κ³Ό μ‹κ°ν™”
- λ¨Έμ‹ λ¬λ‹ κΈ°λ° μμ•… μƒμ„±

## π“ μ°Έκ³ μ‚¬ν•­

- μµλ€ μ¤λ””μ¤ κΈΈμ΄: 10μ΄
- μƒν” λ μ΄νΈ: 44.1kHz
- λ™μ‹ μ¬μƒ κ°€λ¥ν• λ…ΈνΈ μ: λ¬΄μ ν•
- μ§€μ› λΈλΌμ°μ €: Chrome, Firefox, Safari (Web Audio API μ§€μ›)

## π› λ¬Έμ  ν•΄κ²°

### μ¤λ””μ¤κ°€ μ¬μƒλμ§€ μ•λ” κ²½μ°
1. λΈλΌμ°μ €μ—μ„ μ¤λ””μ¤ μ¬μƒ κ¶ν• ν™•μΈ
2. κ°λ°μ λ„κµ¬ μ½μ†”μ—μ„ μ¤λ¥ λ©”μ‹μ§€ ν™•μΈ
3. `use_backend_audio=True` μ„¤μ • ν™•μΈ

### μ„±λ¥ μ΄μ
1. λ…ΈνΈ μλ¥Ό μ¤„μ—¬λ³΄μ„Έμ” (20κ° μ΄ν• κ¶μ¥)
2. μ¤λ””μ¤ κΈΈμ΄λ¥Ό μ§§κ² μ„¤μ •ν•΄λ³΄μ„Έμ”
3. ADSR λ§¤κ°λ³€μλ¥Ό μ΅°μ ν•΄λ³΄μ„Έμ”