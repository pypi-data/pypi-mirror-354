# ê¸°ë³¸ ë°ëª¨ (Basic Demo)

ğŸ¼ **ê¸°ë³¸ ë°ëª¨**ëŠ” Gradio PianoRoll ì»´í¬ë„ŒíŠ¸ì˜ ê°€ì¥ ê¸°ë³¸ì ì¸ ì‚¬ìš©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.
í”¼ì•„ë…¸ë¡¤ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ìŒí‘œë¥¼ ìƒì„±, í¸ì§‘, ì‚­ì œí•˜ëŠ” ë°©ë²•ê³¼ ë°ì´í„° êµ¬ì¡°ë¥¼ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ¯ í•™ìŠµ ëª©í‘œ

- PianoRoll ì»´í¬ë„ŒíŠ¸ì˜ ê¸°ë³¸ ê°œë… ì´í•´
- ìŒí‘œ ë°ì´í„° êµ¬ì¡° íŒŒì•…
- ë§ˆìš°ìŠ¤ì™€ í‚¤ë³´ë“œë¥¼ ì´ìš©í•œ ê¸°ë³¸ ì¡°ì‘ë²•
- JSON ë°ì´í„° ì¶œë ¥ í™•ì¸

## ğŸ“‹ ì „ì²´ ì½”ë“œ

```python
import gradio as gr
from gradio_pianoroll import PianoRoll

def convert_basic(piano_roll):
    """Basic conversion function (first tab)"""
    print("=== Basic Convert function called ===")
    print("Received piano_roll:")
    print(piano_roll)
    print("Type:", type(piano_roll))
    return piano_roll

with gr.Blocks(title="PianoRoll Basic Demo") as demo:
    gr.Markdown("# ğŸ¹ ê¸°ë³¸ PianoRoll ë°ëª¨")
    gr.Markdown("í”¼ì•„ë…¸ë¡¤ ì»´í¬ë„ŒíŠ¸ì˜ ê¸°ë³¸ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!")

    with gr.Row():
        with gr.Column():
            # ì´ˆê¸°ê°’ ì„¤ì •
            initial_value_basic = {
                "notes": [
                    {
                        "start": 80,
                        "duration": 80,
                        "pitch": 60,  # C4
                        "velocity": 100,
                        "lyric": "ì•ˆë…•"
                    },
                    {
                        "start": 160,
                        "duration": 160,
                        "pitch": 64,  # E4
                        "velocity": 90,
                        "lyric": "í•˜ì„¸ìš”"
                    }
                ],
                "tempo": 120,
                "timeSignature": {"numerator": 4, "denominator": 4},
                "editMode": "select",
                "snapSetting": "1/4"
            }

            piano_roll_basic = PianoRoll(
                height=600,
                width=1000,
                value=initial_value_basic,
                elem_id="piano_roll_basic",
                use_backend_audio=False  # í”„ë¡ íŠ¸ì—”ë“œ ì˜¤ë””ì˜¤ ì—”ì§„ ì‚¬ìš©
            )

    with gr.Row():
        with gr.Column():
            output_json_basic = gr.JSON(label="í”¼ì•„ë…¸ë¡¤ ë°ì´í„°")

    with gr.Row():
        with gr.Column():
            btn_basic = gr.Button("ğŸ”„ ë°ì´í„° ë³€í™˜ ë° ë””ë²„ê·¸", variant="primary")

    # ì´ë²¤íŠ¸ ì²˜ë¦¬
    btn_basic.click(
        fn=convert_basic,
        inputs=piano_roll_basic,
        outputs=output_json_basic,
        show_progress=True
    )

if __name__ == "__main__":
    demo.launch()
```

## ğŸ¹ ì£¼ìš” ê¸°ëŠ¥

### 1. ê¸°ë³¸ ì¸í„°í˜ì´ìŠ¤

#### í”¼ì•„ë…¸ë¡¤ ì˜ì—­
- **ê°€ë¡œì¶•**: ì‹œê°„ (í”½ì…€ ë‹¨ìœ„)
- **ì„¸ë¡œì¶•**: ìŒë†’ì´ (MIDI ë…¸íŠ¸ ë²ˆí˜¸)
- **ê·¸ë¦¬ë“œ**: ë°•ìì™€ ìŒê³„ì— ë§ì¶˜ ê²©ì

#### ì»¨íŠ¸ë¡¤ íŒ¨ë„
- **í¸ì§‘ ëª¨ë“œ**: select (ì„ íƒ), create (ìƒì„±), delete (ì‚­ì œ)
- **ìŠ¤ëƒ… ì„¤ì •**: 1/4, 1/8, 1/16 ë°•ì ë“±
- **í…œí¬**: BPM (Beats Per Minute)

### 2. ìŒí‘œ ì¡°ì‘

#### ìŒí‘œ ìƒì„±
1. í¸ì§‘ ëª¨ë“œë¥¼ 'create'ë¡œ ì„¤ì •
2. ì›í•˜ëŠ” ìœ„ì¹˜ì— ë§ˆìš°ìŠ¤ í´ë¦­
3. ë“œë˜ê·¸í•˜ì—¬ ìŒí‘œ ê¸¸ì´ ì¡°ì •

#### ìŒí‘œ ì„ íƒ ë° í¸ì§‘
1. í¸ì§‘ ëª¨ë“œë¥¼ 'select'ë¡œ ì„¤ì •
2. ìŒí‘œ í´ë¦­í•˜ì—¬ ì„ íƒ
3. ë“œë˜ê·¸í•˜ì—¬ ìœ„ì¹˜ ì´ë™
4. ëª¨ì„œë¦¬ ë“œë˜ê·¸í•˜ì—¬ ê¸¸ì´ ì¡°ì •

#### ìŒí‘œ ì‚­ì œ
1. í¸ì§‘ ëª¨ë“œë¥¼ 'delete'ë¡œ ì„¤ì •
2. ì‚­ì œí•  ìŒí‘œ í´ë¦­

### 3. í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤

| í‚¤ | ê¸°ëŠ¥ |
|---|---|
| `S` | Select ëª¨ë“œ |
| `C` | Create ëª¨ë“œ |
| `D` | Delete ëª¨ë“œ |
| `ìŠ¤í˜ì´ìŠ¤` | ì¬ìƒ/ì •ì§€ |
| `Delete` | ì„ íƒëœ ìŒí‘œ ì‚­ì œ |

## ğŸ“Š ë°ì´í„° êµ¬ì¡°

### ìŒí‘œ ê°ì²´ (Note Object)

```python
{
    "start": 80,        # ì‹œì‘ ìœ„ì¹˜ (í”½ì…€)
    "duration": 80,     # ì§€ì† ì‹œê°„ (í”½ì…€)
    "pitch": 60,        # MIDI ë…¸íŠ¸ ë²ˆí˜¸ (0-127)
    "velocity": 100,    # ì„¸ê¸° (0-127)
    "lyric": "ì•ˆë…•"     # ê°€ì‚¬ (ì„ íƒì‚¬í•­)
}
```

### ì „ì²´ í”¼ì•„ë…¸ë¡¤ ë°ì´í„°

```python
{
    "notes": [          # ìŒí‘œ ë°°ì—´
        { /* ìŒí‘œ ê°ì²´ */ }
    ],
    "tempo": 120,       # í…œí¬ (BPM)
    "timeSignature": {  # ë°•ìí‘œ
        "numerator": 4,   # ë¶„ì
        "denominator": 4  # ë¶„ëª¨
    },
    "editMode": "select",    # í¸ì§‘ ëª¨ë“œ
    "snapSetting": "1/4",    # ìŠ¤ëƒ… ì„¤ì •
    "pixelsPerBeat": 80      # ë°•ìë‹¹ í”½ì…€ ìˆ˜
}
```

## ğŸ”§ ì„¤ì • ì˜µì…˜

### PianoRoll ì»´í¬ë„ŒíŠ¸ ì†ì„±

```python
PianoRoll(
    height=600,              # ë†’ì´ (í”½ì…€)
    width=1000,              # ë„ˆë¹„ (í”½ì…€)
    value=initial_value,     # ì´ˆê¸° ë°ì´í„°
    elem_id="unique_id",     # HTML ìš”ì†Œ ID
    use_backend_audio=False  # ì˜¤ë””ì˜¤ ì—”ì§„ ì„ íƒ
)
```

### ì´ˆê¸°ê°’ ì˜ˆì œ

```python
# ë¹ˆ í”¼ì•„ë…¸ë¡¤
empty_value = {
    "notes": [],
    "tempo": 120,
    "timeSignature": {"numerator": 4, "denominator": 4},
    "editMode": "select",
    "snapSetting": "1/4"
}

# C ë©”ì´ì € ìŠ¤ì¼€ì¼
c_major_scale = {
    "notes": [
        {"start": 0,   "duration": 80, "pitch": 60, "velocity": 100},  # C4
        {"start": 80,  "duration": 80, "pitch": 62, "velocity": 100},  # D4
        {"start": 160, "duration": 80, "pitch": 64, "velocity": 100},  # E4
        {"start": 240, "duration": 80, "pitch": 65, "velocity": 100},  # F4
        {"start": 320, "duration": 80, "pitch": 67, "velocity": 100},  # G4
        {"start": 400, "duration": 80, "pitch": 69, "velocity": 100},  # A4
        {"start": 480, "duration": 80, "pitch": 71, "velocity": 100},  # B4
        {"start": 560, "duration": 80, "pitch": 72, "velocity": 100},  # C5
    ],
    "tempo": 120,
    "timeSignature": {"numerator": 4, "denominator": 4},
    "editMode": "select",
    "snapSetting": "1/8"
}
```

## ğŸµ MIDI ë…¸íŠ¸ ë²ˆí˜¸ ì°¸ì¡°

| ì˜¥íƒ€ë¸Œ | C | C# | D | D# | E | F | F# | G | G# | A | A# | B |
|--------|---|----|----|----|----|----|----|----|----|----|----|---|
| 0 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 | 21 | 22 | 23 |
| 1 | 24 | 25 | 26 | 27 | 28 | 29 | 30 | 31 | 32 | 33 | 34 | 35 |
| 2 | 36 | 37 | 38 | 39 | 40 | 41 | 42 | 43 | 44 | 45 | 46 | 47 |
| 3 | 48 | 49 | 50 | 51 | 52 | 53 | 54 | 55 | 56 | 57 | 58 | 59 |
| 4 | 60 | 61 | 62 | 63 | 64 | 65 | 66 | 67 | 68 | 69 | 70 | 71 |
| 5 | 72 | 73 | 74 | 75 | 76 | 77 | 78 | 79 | 80 | 81 | 82 | 83 |

!!! note "ì°¸ê³ "
    - **C4 (MIDI 60)**: ì¤‘ì•™ C (261.63 Hz)
    - **A4 (MIDI 69)**: í‘œì¤€ A (440 Hz)

## ğŸ’¡ ì‹¤ìŠµ ê°€ì´ë“œ

### 1. ê¸°ë³¸ ì¡°ì‘ ì—°ìŠµ

1. **ìŒí‘œ ìƒì„±í•˜ê¸°**
   - í¸ì§‘ ëª¨ë“œë¥¼ 'create'ë¡œ ì„¤ì •
   - ë¹ˆ ê³µê°„ì— í´ë¦­í•˜ì—¬ ìŒí‘œ ìƒì„±
   - ë‹¤ì–‘í•œ ìœ„ì¹˜ì™€ ê¸¸ì´ë¡œ ì—¬ëŸ¬ ìŒí‘œ ë§Œë“¤ê¸°

2. **ìŒí‘œ í¸ì§‘í•˜ê¸°**
   - 'select' ëª¨ë“œë¡œ ì „í™˜
   - ìŒí‘œë¥¼ ë“œë˜ê·¸í•˜ì—¬ ì´ë™
   - ìŒí‘œì˜ ëë¶€ë¶„ì„ ë“œë˜ê·¸í•˜ì—¬ ê¸¸ì´ ì¡°ì •

3. **ìŒí‘œ ì‚­ì œí•˜ê¸°**
   - 'delete' ëª¨ë“œë¡œ ì „í™˜
   - ì‚­ì œí•  ìŒí‘œ í´ë¦­

### 2. ë°ì´í„° êµ¬ì¡° ì´í•´

1. **JSON ì¶œë ¥ í™•ì¸**
   - ìŒí‘œë¥¼ ìˆ˜ì •í•œ í›„ "ë°ì´í„° ë³€í™˜ ë° ë””ë²„ê·¸" ë²„íŠ¼ í´ë¦­
   - JSON ì¶œë ¥ì—ì„œ ë³€ê²½ì‚¬í•­ í™•ì¸

2. **ì½˜ì†” ë¡œê·¸ í™•ì¸**
   - ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ ì—´ê¸° (F12)
   - Console íƒ­ì—ì„œ ìƒì„¸ ë¡œê·¸ í™•ì¸

### 3. ì‹¤í—˜í•´ë³´ê¸°

- í…œí¬ ë³€ê²½ (60, 120, 180 BPM)
- ë°•ìí‘œ ë³€ê²½ (3/4, 6/8 ë“±)
- ë‹¤ì–‘í•œ ìŠ¤ëƒ… ì„¤ì • í…ŒìŠ¤íŠ¸
- ê°€ì‚¬ ì…ë ¥í•´ë³´ê¸°

## â“ ë¬¸ì œ í•´ê²°

### ìì£¼ ë¬»ëŠ” ì§ˆë¬¸

**Q: ìŒí‘œê°€ ìƒì„±ë˜ì§€ ì•Šì•„ìš”**
A: í¸ì§‘ ëª¨ë“œê°€ 'create'ë¡œ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.

**Q: ìŒí‘œë¥¼ ì„ íƒí•  ìˆ˜ ì—†ì–´ìš”**
A: í¸ì§‘ ëª¨ë“œë¥¼ 'select'ë¡œ ë³€ê²½í•˜ì„¸ìš”.

**Q: í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ê°€ ì‘ë™í•˜ì§€ ì•Šì•„ìš”**
A: í”¼ì•„ë…¸ë¡¤ ì˜ì—­ì„ ë¨¼ì € í´ë¦­í•˜ì—¬ í¬ì»¤ìŠ¤ë¥¼ ë§ì¶”ì„¸ìš”.

### ì¼ë°˜ì ì¸ ë¬¸ì œ

1. **ë¸Œë¼ìš°ì € í˜¸í™˜ì„±**: Chrome, Firefox, Safari ê¶Œì¥
2. **JavaScript ì˜¤ë¥˜**: ë¸Œë¼ìš°ì € ì½˜ì†” í™•ì¸
3. **ë°ì´í„° í˜•ì‹**: JSON í˜•ì‹ì´ ì˜¬ë°”ë¥¸ì§€ ê²€ì¦

## ğŸ”— ë‹¤ìŒ ë‹¨ê³„

ê¸°ë³¸ ê¸°ëŠ¥ì„ ìµí˜”ë‹¤ë©´ ë‹¤ìŒ ì˜ˆì œë“¤ì„ í™•ì¸í•´ë³´ì„¸ìš”:

- **[ì‹ ë””ì‚¬ì´ì € ë°ëª¨](synthesizer.md)**: ì˜¤ë””ì˜¤ í•©ì„± ê¸°ëŠ¥
- **[ìŒì„±í•™ ì²˜ë¦¬](phoneme-processing.md)**: G2P ë³€í™˜ ê¸°ëŠ¥
- **[API ì°¸ì¡°](../api/components.md)**: ìƒì„¸í•œ ì»´í¬ë„ŒíŠ¸ ëª…ì„¸