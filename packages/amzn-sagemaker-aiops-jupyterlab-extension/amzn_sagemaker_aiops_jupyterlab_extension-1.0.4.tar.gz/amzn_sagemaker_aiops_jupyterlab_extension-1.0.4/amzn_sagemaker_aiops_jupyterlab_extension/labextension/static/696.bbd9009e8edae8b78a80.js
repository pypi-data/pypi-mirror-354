"use strict";(self.webpackChunk_amzn_amzn_sagemaker_aiops_jupyterlab_extension=self.webpackChunk_amzn_amzn_sagemaker_aiops_jupyterlab_extension||[]).push([[696],{330:e=>{e.exports=JSON.parse('{"name":"@amzn/amzn_sagemaker_aiops_jupyterlab_extension","description":"SageMaker AI Ops JupyterLab workspace primary extension module","version":"1.0.4","homepage":"https://aws.amazon.com/sagemaker/","license":"Apache-2.0","author":"Amazon","keywords":["jupyter","jupyterlab","jupyterlab-extension"],"directories":{"test":"__tests__"},"files":["lib/**/*.{d.ts,eot,gif,html,jpg,js,js.map,json,png,svg,woff2,ttf}","style/**/*.{css,js,eot,gif,html,jpg,json,png,svg,woff2,ttf}","schema/*.json"],"scripts":{"build":"npm run build:lib && npm run build:labextension:dev","build:prod":"npm run clean && npm run build:lib:prod && npm run build:labextension","build:labextension":"jupyter labextension build .","build:labextension:dev":"jupyter labextension build --development True .","build:lib":"tsc --sourceMap","build:lib:prod":"tsc","lint:check":"eslint . --ext .js,.ts,.tsx","lint:fix":"eslint --fix . --ext .js,.ts,.tsx","release":"npm run build:prod","clean":"npm run clean:lib","clean:lib":"rimraf lib tsconfig.tsbuildinfo","clean:labextension":"rimraf amzn_sagemaker_aiops_jupyterlab_extension/labextension amzn_sagemaker_aiops_jupyterlab_extension/_version.py","clean:all":"npm run clean:lib && npm run clean:labextension && npm run clean:lintcache","eslint":"npm run eslint:check --fix","eslint:check":"eslint . --cache --ext .ts,.tsx","install:extension":"npm run build","prettier":"npm run prettier:base --write --list-different","prettier:base":"prettier \\"**/*{.ts,.tsx,.js,.jsx,.css,.json,.md}\\"","prettier:check":"npm run prettier:base --check","test":"jest --coverage","watch":"run-p watch:src watch:labextension","watch:src":"tsc -w --sourceMap","watch:labextension":"jupyter labextension watch ."},"main":"lib/index.js","dependencies":{"@amzn/sagemaker-jupyterlab-extension-common":"","@jupyterlab/application":"^4.0.5","@jupyterlab/apputils":"^4.0.5","@jupyterlab/coreutils":"^6.0.5","@jupyterlab/docmanager":"^4.0.5","@jupyterlab/docregistry":"^4.0.5","@jupyterlab/filebrowser":"^4.0.5","@jupyterlab/mainmenu":"^4.0.5","@jupyterlab/services":"^7.0.0","@jupyterlab/statusbar":"^4.0.5","@jupyterlab/terminal":"^4.0.5","@jupyterlab/translation":"^4.0.5","isomorphic-fetch":"^3.0.0","react":"^18.2.0","shell-escape":"^0.2.0"},"jupyterlab":{"extension":true,"outputDir":"amzn_sagemaker_aiops_jupyterlab_extension/labextension","sharedPackages":{"@amzn/sagemaker-jupyterlab-extension-common":{"bundled":false,"singleton":true,"strictVersion":false}}},"style":"src/style/index.css","devDependencies":{"@babel/preset-env":"^7.22.7","@babel/preset-react":"^7.22.5","@jupyterlab/builder":"^4.0.5","@types/jest":"^27.5.2","@types/shell-escape":"^0.2.3","@typescript-eslint/eslint-plugin":"^5.61.0","eslint-config-prettier":"^8.8.0","eslint-plugin-import":"^2.27.5","eslint-plugin-json":"^3.1.0","eslint-plugin-prettier":"^4.2.1","eslint-plugin-react":"^7.32.2","eslint-plugin-react-hooks":"^4.6.0","jest":"^27.2.4","npm-run-all":"^4.1.5","prettier":"^2.4.1","ts-jest":"^27.0.5","typescript":"^4.3.5"}}')},696:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var a=n(893),r=n(908),s=n(928);const i="@amzn/amzn_sagemaker_aiops_jupyterlab_extension:pipelines-openoutput",{name:o,version:l}=n(330);var p=n(569),u=n(808),c=n(695);const m=[200,201];var b;!function(e){e.POST="POST",e.GET="GET"}(b||(b={}));const d="Unable to open output",g="Something went wrong when opening the output.",h="A request to open the output is invalid.";let y=!1;const x=async e=>(0,p.showErrorMessage)(d,{message:e}),j=[{id:i,requires:[r.IRouter,a.ILogger,s.IDefaultFileBrowser],autoStart:!0,activate:async(e,t,n,a)=>{const{commands:r}=e,s="pipelines:open-output",p=((e,t)=>e.child({ExtensionName:o,ExtensionVersion:l,PluginId:t},void 0))(n,i);r.addCommand(s,{execute:()=>(async(e,t,n)=>{if(!y)try{const{search:a}=e.current;if(!a)return await x(h),void n.error({Error:new Error("Invalid deep-linking parameters: Query params must be specified")});const{pipeline_name:r="",step_name:s="",job_name:i="",exec_id:o=""}=u.URLExt.queryStringToObject(a),l=new URLSearchParams({pipelineName:r,stepName:s,jobName:i,execId:o}),p=await(async(e,t)=>{let n;t.info({Message:"Fetching Output"});try{n=await(async(e,t)=>{const n=c.ServerConnection.makeSettings(),a=u.URLExt.join(n.baseUrl,e);try{const e=await c.ServerConnection.makeRequest(a,{method:t},n);if(!m.includes(e.status))throw new Error("Unable to fetch data");return e}catch(e){throw Error(e)}})(`aws/sagemaker/api/pipelines/get-output?${e.toString()}`,b.GET)}catch(e){throw t.error({Error:new Error(`Error executing open output: ${e}`)}),e}return t.info({Message:"Successfully fetched output"}),await n.json()})(l,n);t.restored.then((async()=>{const{extractedPath:e,notebookPath:n}=p;n&&n.length>0&&t.commands.execute("docmanager:open",{factory:"Notebook",path:n.replace("/home/sagemaker-user",".")}),t.commands.execute("filebrowser:go-to-path",{path:e.replace("/home/sagemaker-user",".")})})),n.info({Message:"Successfully loaded the Pipelines plugin"})}catch(e){return await x(g),void n.error({Error:new Error(`Error executing open output: ${e}`)})}finally{y=!0}})(t,e,p)}),t.register({command:s,pattern:new RegExp("[?]command=open-output"),rank:10})}}]}}]);