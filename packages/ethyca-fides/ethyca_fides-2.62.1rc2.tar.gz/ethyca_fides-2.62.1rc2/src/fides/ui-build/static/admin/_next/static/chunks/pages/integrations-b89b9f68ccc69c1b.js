(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[710],{9387:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/integrations",function(){return e(22406)}])},812:function(t,n,e){"use strict";e.d(n,{D4:function(){return o.D4},MM:function(){return g},Ot:function(){return c},c6:function(){return r},cj:function(){return p},e$:function(){return a},fn:function(){return s},iC:function(){return f},nU:function(){return d},tB:function(){return u}});var i,r,o=e(19043);let l="An unexpected error occurred. Please try again.",a=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;if((0,o.Bw)(t)){if((0,o.hE)(t.data))return t.data.detail;if((0,o.cz)(t.data)){var e;let n=null===(e=t.data.detail)||void 0===e?void 0:e[0];return"".concat(null==n?void 0:n.msg,": ").concat(null==n?void 0:n.loc)}if(409===t.status&&(0,o.Dy)(t.data)||404===t.status&&(0,o.XD)(t.data))return"".concat(t.data.detail.error," (").concat(t.data.detail.fides_key,")")}return n};function s(t){return"object"==typeof t&&null!=t&&"status"in t}function c(t){return"object"==typeof t&&null!=t&&"data"in t&&"string"==typeof t.data.detail}function u(t){return"object"==typeof t&&null!=t&&"data"in t&&Array.isArray(t.data.detail)}let d=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:l};if((0,o.oK)(t))return{status:t.originalStatus,message:t.data};if((0,o.Bw)(t)){let{status:e}=t;return{status:e,message:a(t,n.message)}}return n},g=t=>Object.entries(t).map(t=>({value:t[1],label:t[1]}));(i=r||(r={})).GVL="gvl",i.AC="gacp",i.COMPASS="compass";let f={gvl:{label:"GVL",fullName:"Global Vendor List"},gacp:{label:"AC",fullName:"Google Additional Consent List"},compass:{label:"",fullName:""}},p=t=>{let n=t.split(".")[0];return"gacp"===n?"gacp":"gvl"===n?"gvl":"compass"}},22406:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return E}});var i,r,o,l,a=e(24246),s=e(91942),c=e(27378),u=e(7617),d=e(18225),g=e(77213),f=e(58754),p=e(14207),x=e(8133),h=e(68964),m=e(15987),j=e(75595),v=t=>{let{integrationType:n,onConfigure:e,onCancel:i}=t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.Z,{integration:null==n?void 0:n.placeholder,onConfigureClick:e}),null==n?void 0:n.overview,(0,a.jsxs)(s.kCb,{children:[(0,a.jsx)(s.LZC,{}),(0,a.jsx)(s.wpx,{onClick:i,children:"Cancel"})]})]})},C=e(25980),y=e(62165);(i=o||(o={})).ALL="All",i.DATABASE="Database",i.DATA_CATALOG="Data Catalog",i.DATA_WAREHOUSE="Data Warehouse",i.IDENTITY_PROVIDER="Identity Provider",i.WEBSITE="Website";var b=t=>{var n;let{flags:e}=(0,y.Vb)(),i=Object.values(o).filter(t=>"Identity Provider"!==t||e.oktaMonitor),[r,l]=(0,c.useState)(0),a=i[r],[s,u]=(0,c.useState)(!1),d="All"!==a,g=null!==(n=null==t?void 0:t.filter(t=>!d||t.category===a))&&void 0!==n?n:[];return{tabs:i,tabIndex:r,anyFiltersApplied:d,isFiltering:s,onChangeFilter:t=>{u(!0),l(t),setTimeout(()=>u(!1),100)},filteredTypes:g}},A=t=>{let{onCancel:n,onDetailClick:e,onConfigureClick:i}=t,{tabIndex:r,onChangeFilter:o,isFiltering:l,filteredTypes:c,tabs:g}=b(h.FO),{flags:{oktaMonitor:f}}=(0,C.Vb)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.mQc,{index:r,onChange:o,mb:4,children:(0,a.jsx)(s.tdY,{children:g.map(t=>(0,a.jsx)(u.q,{label:t},t))})}),l?(0,a.jsx)(d.Z,{}):(0,a.jsx)(s.kCb,{direction:"column",children:c.map(t=>f||"okta"!==t.placeholder.connection_type?(0,a.jsx)(j.Z,{integration:t.placeholder,onConfigureClick:()=>i(t),otherButtons:(0,a.jsx)(s.wpx,{onClick:()=>e(t),children:"Details"})},t.placeholder.key):null)}),(0,a.jsxs)(s.kCb,{children:[(0,a.jsx)(s.LZC,{}),(0,a.jsx)(s.wpx,{onClick:n,children:"Cancel"})]})]})},_=e(64176);(r=l||(l={})).LIST_VIEW="list-view",r.DETAIL="detail",r.FORM="form";var k=t=>{let{isOpen:n,onClose:e}=t,[i,r]=(0,c.useState)("list-view"),[o,l]=(0,c.useState)(),s=(0,_.Z)(null==o?void 0:o.placeholder.connection_type),{description:u}=(0,h.ZP)(null==o?void 0:o.placeholder.connection_type),d=()=>{r("list-view"),l(void 0),e()},g=o?"".concat(o.placeholder.name," Integration"):"Add integration";return(0,a.jsxs)(x.Z,{size:"2xl",isOpen:n,onClose:d,title:g,children:["list-view"===i&&(0,a.jsx)(A,{onCancel:d,onDetailClick:t=>{r("detail"),l(t)},onConfigureClick:t=>{r("form"),l(t)}}),"detail"===i&&(0,a.jsx)(v,{integrationType:o,onConfigure:()=>r("form"),onCancel:d}),"form"===i&&(0,a.jsx)(m.Z,{connectionOption:s,onCancel:d,description:u})]})},w=e(86677),T=e(77830),D=t=>{let{isFiltered:n,onOpenAddModal:e}=t;return(0,a.jsxs)(s.kCb,{direction:"column",alignItems:"center","data-testid":"empty-state",children:[(0,a.jsx)(s.xvT,{color:"gray.700",fontWeight:"semibold",fontSize:"md",children:"No integrations"}),(0,a.jsx)(s.xvT,{color:"gray.700",fontSize:"sm",marginTop:"8px",children:n?"No integrations match your filters":"You have not configured any integrations"}),(0,a.jsx)(s.xvT,{color:"gray.700",fontSize:"sm",children:'Click "Add integration" to connect and configure systems now.'}),(0,a.jsx)(s.wpx,{type:"primary",onClick:e,className:"mt-4",children:"Add integration"})]})},L=t=>{let{integrations:n,isFiltered:e,onOpenAddModal:i}=t,r=(0,w.useRouter)();return(0,a.jsx)(s.xuv,{marginTop:"24px",children:n.length?n.map(t=>(0,a.jsx)(j.Z,{integration:t,showTestNotice:!0,configureButtonLabel:"Manage",onConfigureClick:()=>r.push("".concat(T.KH,"/").concat(t.key))},t.key)):(0,a.jsx)(D,{onOpenAddModal:i,isFiltered:e})})},E=()=>{var t,n;let{data:e,isLoading:i}=(0,p.AZ)({connection_type:h.jq}),{onOpen:r,isOpen:o,onClose:l}=(0,s.qY0)(),{tabIndex:c,onChangeFilter:x,anyFiltersApplied:m,isFiltering:j,filteredTypes:v,tabs:C}=b(null==e?void 0:null===(t=e.items)||void 0===t?void 0:t.map(t=>(0,h.ZP)(t.connection_type))),y=null!==(n=null==e?void 0:e.items.filter(t=>v.some(n=>n.placeholder.connection_type===t.connection_type)))&&void 0!==n?n:[];return(0,a.jsxs)(g.Z,{title:"Integrations",children:[(0,a.jsx)(f.Z,{heading:"Integrations",breadcrumbItems:[{title:"All integrations"}]}),(0,a.jsxs)(s.xuv,{"data-testid":"integration-tabs",display:"flex",children:[(0,a.jsx)(s.mQc,{index:c,onChange:x,w:"full",children:(0,a.jsx)(s.tdY,{children:C.map(t=>(0,a.jsx)(u.q,{label:t},t))})}),(0,a.jsx)(s.xuv,{borderBottom:"2px solid",borderColor:"gray.200",height:"fit-content",pr:"2",pb:"2",children:(0,a.jsx)(s.wpx,{onClick:r,"data-testid":"add-integration-btn",icon:(0,a.jsx)(s.xPt,{}),iconPosition:"end",children:"Add Integration"})})]}),i||j?(0,a.jsx)(d.Z,{}):(0,a.jsx)(L,{integrations:y,onOpenAddModal:r,isFiltered:m}),(0,a.jsx)(k,{isOpen:o,onClose:l})]})}},19043:function(t,n,e){"use strict";e.d(n,{Bw:function(){return l},D4:function(){return r},Dy:function(){return s},XD:function(){return c},cz:function(){return u},hE:function(){return a},oK:function(){return o}});var i=e(76649);let r=t=>"error"in t,o=t=>(0,i.Ln)({status:"string"},t)&&"PARSING_ERROR"===t.status,l=t=>(0,i.Ln)({status:"number",data:{}},t),a=t=>(0,i.Ln)({detail:"string"},t),s=t=>(0,i.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},t),c=t=>(0,i.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},t),u=t=>(0,i.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},t)}},function(t){t.O(0,[2858,2866,9278,6834,5973,2888,9774,179],function(){return t(t.s=9387)}),_N_E=t.O()}]);