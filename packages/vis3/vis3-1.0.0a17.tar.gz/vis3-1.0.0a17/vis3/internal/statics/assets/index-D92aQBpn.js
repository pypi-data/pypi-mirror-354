import{l as x,h as g,o as h,j as e,B as f,k as n}from"./index-Ds-xlbQa.js";import{F as r,I as c}from"./index-adar5Jfa.js";import{R as j,a as d}from"./UserOutlined-BrQIZsUW.js";const R=function(){const[u]=r.useForm(),i=x(),{t:s}=g(),m=h(),p=async a=>{var o,t;if(a.password!==a.confirm_password){n.error(s("account.passwordConfirmError"));return}try{await m.mutateAsync(a),n.success(s("account.registerSuccess")),i({to:"/login"})}catch(l){console.error("register failed",l),n.error(((t=(o=l.response)==null?void 0:o.data)==null?void 0:t.detail)||s("account.registerFailed"))}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-blue-50 to-indigo-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-xl shadow-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("img",{src:"/logo.svg",alt:"logo",className:"w-8 h-8"}),e.jsx("span",{className:"text-3xl text-gray-800",children:"VisU"})]}),e.jsx("p",{className:"mt-2 text-gray-600",children:s("account.createNewAccount")})]}),e.jsxs(r,{form:u,name:"register",initialValues:{remember:!0},onFinish:p,size:"large",className:"mt-8 space-y-6",children:[e.jsx(r.Item,{name:"username",rules:[{required:!0,message:s("account.usernameRequired")},{min:3,message:s("account.usernameMinLength")}],children:e.jsx(c,{prefix:e.jsx(j,{className:"site-form-item-icon"}),placeholder:s("account.username")})}),e.jsx(r.Item,{name:"password",rules:[{required:!0,message:s("account.passwordRequired")},{min:6,message:s("account.passwordMinLength")}],children:e.jsx(c.Password,{prefix:e.jsx(d,{className:"site-form-item-icon"}),placeholder:s("account.password")})}),e.jsx(r.Item,{name:"confirm_password",dependencies:["password"],rules:[{required:!0,message:s("account.passwordConfirmRequired")},({getFieldValue:a})=>({validator(o,t){return!t||a("password")===t?Promise.resolve():Promise.reject(new Error(s("account.passwordConfirmError")))}})],children:e.jsx(c.Password,{prefix:e.jsx(d,{className:"site-form-item-icon"}),placeholder:s("account.passwordConfirm")})}),e.jsx(r.Item,{children:e.jsx(f,{type:"primary",htmlType:"submit",className:"w-full",loading:m.isPending,children:s("account.register")})}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-gray-600",children:s("account.haveAccount")}),e.jsx("a",{onClick:()=>i({to:"/login"}),className:"text-blue-600 hover:text-blue-800 ml-1 cursor-pointer",children:s("account.loginNow")})]})]})]})})};export{R as component};
