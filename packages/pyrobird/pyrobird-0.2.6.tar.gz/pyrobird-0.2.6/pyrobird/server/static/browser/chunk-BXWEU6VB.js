import{b as p}from"./chunk-Z4ZYSIRC.js";import"./chunk-3L3RRFVB.js";import{Aa as m,Ja as x,O as l,ha as d}from"./chunk-FVXVO67X.js";import{Aa as c,g as h,x as f}from"./chunk-KYOHYQWH.js";import{k as o}from"./chunk-KYPE3LET.js";var g=f(14),y=class u extends d{moveDrag(t,e){this.dx+=t,this.dy+=e,l(this.draw_g.select("path"),this.dx,this.dy)}moveEnd(t){if(t)return;let e=this.getObject(),a=this.getAxisToSvgFunc(this.isndc),n="";for(let i=0;i<=e.fLastPoint;++i){let r=this.svgToAxis("x",a.x(e.fX[i])+this.dx,this.isndc),s=this.svgToAxis("y",a.y(e.fY[i])+this.dy,this.isndc);e.fX[i]=r,e.fY[i]=s,n+=`SetPoint(${i},${r},${s});;`}this.submitCanvExec(n+"Notify();;"),this.redraw()}getUserRanges(){let t=this.getObject();if(t.TestBit(g)||!t.fLastPoint)return null;let a=t.fX[0],n=a,i=t.fY[0],r=i;for(let s=1;s<=t.fLastPoint;++s)a=Math.min(a,t.fX[s]),n=Math.max(n,t.fX[s]),i=Math.min(i,t.fY[s]),r=Math.max(r,t.fY[s]);return{minx:a,miny:i,maxx:n,maxy:r}}redraw(){this.createG();let t=this.getObject(),e=t.TestBit(g),a=this.getDrawOpt()||t.fOption,n=t._typename===c&&h(a)&&a.toLowerCase().indexOf("f")>=0,i=this.getAxisToSvgFunc(e);this.createAttLine({attr:t}),this.createAttFill({attr:t,enable:n});let r="";for(let s=0;s<=t.fLastPoint;++s)r+=`${s>0?"L":"M"}${i.x(t.fX[s])},${i.y(t.fY[s])}`;return this.draw_g.append("svg:path").attr("d",r+(n?"Z":"")).call(n?()=>{}:this.lineatt.func).call(this.fillatt.func),x(this),m(this),this.dx=this.dy=0,this.isndc=e,this}static draw(t,e,a){return o(this,null,function*(){let n=new u(t,e,a);return p(n,!1).then(()=>n.redraw())})}};export{y as TPolyLinePainter};
