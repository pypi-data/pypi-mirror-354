import{c as S}from"./chunk-K3NEZPGL.js";import{B as T,C as h,G as b,J as z,Q as C,R,V as H,W as M,o as x,ra as _,y as P}from"./chunk-B5FIEQSC.js";import{$b as g,Bb as l,Cb as c,Db as u,Hb as y,Lb as f,Qb as v,Rb as E,Sb as w,db as d,ia as m,ja as p}from"./chunk-KPQUTH6W.js";import"./chunk-KYPE3LET.js";var A=["rendererContainer"],W=(()=>{let o=class o{constructor(){this.lines=[],this.curves=[],this.trajectories=[[{x:0,y:0,z:0,time:1e3},{x:1,y:1,z:0,time:2e3},{x:2,y:0,z:1,time:3e3},{x:3,y:-1,z:0,time:4e3},{x:4,y:0,z:-1,time:5e3}],[{x:4,y:0,z:-1,time:5e3},{x:5,y:1,z:-1,time:6e3},{x:6,y:2,z:0,time:7e3},{x:7,y:1,z:1,time:8e3},{x:8,y:0,z:1,time:9e3}],[{x:8,y:0,z:1,time:5e3},{x:9,y:-1,z:1,time:6e3},{x:10,y:-2,z:0,time:7e3},{x:11,y:-1,z:-1,time:8e3},{x:12,y:0,z:-1,time:9e3}]]}ngOnInit(){}ngAfterViewInit(){this.initThreeJS(),this.initCurvesAndLines(),this.animate()}initThreeJS(){this.scene=new z,this.camera=new b(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=5,this.renderer=new _,this.renderer.setSize(window.innerWidth,window.innerHeight),this.rendererContainer.nativeElement.appendChild(this.renderer.domElement);let n=new M(.1,32,32),e=new P({color:16711680});this.particle1=new h(n,e),this.particle2=new h(n,e),this.particle1.visible=!1,this.particle2.visible=!1,this.scene.add(this.particle1),this.scene.add(this.particle2)}initCurvesAndLines(){this.curves=this.trajectories.map(n=>new H(n.map(e=>new x(e.x,e.y,e.z)))),this.curves.forEach(n=>{let e=n.getPoints(100),i=new T().setFromPoints(e),t=new C({color:255}),s=new R(i,t);s.visible=!1,this.scene.add(s),this.lines.push(s)})}updateParticlePosition(n){if(n<1e3){this.particle1.visible=!1,this.particle2.visible=!1,this.lines.forEach(t=>t.visible=!1);return}this.particle1.visible=!0,this.particle2.visible=n>=5e3;let i=n-1e3;if(i<=4e3){this.lines[0].visible=!0;let t=i/4e3,s=this.curves[0].getPoint(t);this.particle1.position.copy(s);let r=this.curves[0].getPoints(Math.floor(t*100)+1);this.lines[0].geometry.setFromPoints(r)}if(i>=4e3&&i<=8e3){this.lines[1].visible=!0;let t=(i-4e3)/4e3,s=this.curves[1].getPoint(t);this.particle1.position.copy(s);let r=this.curves[1].getPoints(Math.floor(t*100)+1);this.lines[1].geometry.setFromPoints(r)}if(i>=4e3&&i<=8e3){this.lines[2].visible=!0;let t=(i-4e3)/4e3,s=this.curves[2].getPoint(t);this.particle2.position.copy(s);let r=this.curves[2].getPoints(Math.floor(t*100)+1);this.lines[2].geometry.setFromPoints(r)}}setAnimationTime(n){let e=n.target,i=parseInt(e.value,10);this.updateParticlePosition(i)}animate(){requestAnimationFrame(()=>this.animate()),S(),this.renderer.render(this.scene,this.camera)}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=d({type:o,selectors:[["app-playground"]],viewQuery:function(e,i){if(e&1&&v(A,5),e&2){let t;E(t=w())&&(i.rendererContainer=t.first)}},decls:6,vars:0,consts:[["rendererContainer",""],["id","controls"],["type","range","id","timeSlider","min","0","max","9000","step","10","value","0",3,"input"],[2,"border","solid 1px blue"]],template:function(e,i){if(e&1){let t=y();l(0,"p"),g(1,"playground works!"),c(),l(2,"div",1)(3,"input",2),f("input",function(r){return m(t),p(i.setAnimationTime(r))}),c()(),u(4,"div",3,0)}},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;position:relative}#controls[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;z-index:100}.renderer-container[_ngcontent-%COMP%]{width:100%;height:100%}"]});let a=o;return a})();export{W as PlaygroundComponent};
