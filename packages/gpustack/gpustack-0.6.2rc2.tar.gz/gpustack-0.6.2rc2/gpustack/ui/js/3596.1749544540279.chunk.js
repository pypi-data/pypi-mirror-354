"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3596],{46818:function(e,n,t){t.d(n,{Z:function(){return z}});var i=t(26068),r=t.n(i),a=t(90228),o=t.n(a),s=t(87999),l=t.n(s),c=t(48305),u=t.n(c),d=t(35652),g=t(9288),f=t(82187),A=t.n(f),h=t(32699),m=t(34682),p=t(50959),v=t(67825),x=t.n(v),E=t(19289),w=t(17098),Q=t(67201),b=t(90049),j=t(20027),C=t(84206),y=t(35502),k=t(19729),B=t(48980),Z=t(54235),I=t(11527),N=["height","width","autoSize","preview"],R=function(e){var n=e.height,t=void 0===n?100:n,i=e.width,a=e.autoSize,s=e.preview,c=void 0===s||s,d=x()(e,N),g=(0,p.useState)(i||0),f=u()(g,2),A=f[0],m=f[1],v=(0,p.useState)(!1),R=u()(v,2),S=R[0],z=R[1],J=(0,p.useCallback)((function(e){return new Promise((function(n){var t=new Image;t.onload=function(){n({ratio:(0,h.round)(t.width/t.height,2)})},t.onerror=function(){n({ratio:1})},t.src=e}))}),[]),U=(0,p.useCallback)(l()(o()().mark((function n(){var i,r;return o()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,J(e.src||"");case 4:if(i=n.sent,r=i.ratio,"number"!=typeof t){n.next=10;break}m(t*r),n.next=11;break;case 10:throw new Error("Height must be a number");case 11:case"end":return n.stop()}}),n)}))),[J,t,e.src]),D=(0,p.useCallback)((function(){var n=e.src||"",t=Date.now()+"",i=document.createElement("a");i.href=n,i.download=t,document.body.appendChild(i),i.click(),i.remove()}),[e.src]),K=(0,p.useCallback)((function(){var n;null===(n=e.onLoad)||void 0===n||n.call(e),z(!1)}),[e.onLoad]),L=(0,p.useCallback)((function(){z(!0)}),[]);return(0,p.useEffect)((function(){U()}),[U]),(0,p.useEffect)((function(){m(i||0)}),[i]),(0,I.jsx)(B.Z,r()(r()({},d),{},{height:S?"auto":t,width:S?"100%":A,onError:L,onLoad:K,fallback:"data:image/png;base64,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",crossOrigin:"anonymous",preview:c&&!S&&{mask:(0,I.jsx)(E.Z,{}),toolbarRender:function(e,n){var t=n.transform.scale,i=n.actions,r=i.onFlipY,a=i.onFlipX,o=i.onRotateLeft,s=i.onRotateRight,l=i.onZoomOut,c=i.onZoomIn,u=i.onReset;return(0,I.jsxs)(Z.Z,{size:12,className:"toolbar-wrapper",children:[(0,I.jsx)(w.Z,{onClick:D}),(0,I.jsx)(Q.Z,{rotate:90,onClick:r}),(0,I.jsx)(Q.Z,{onClick:a}),(0,I.jsx)(b.Z,{onClick:o}),(0,I.jsx)(j.Z,{onClick:s}),(0,I.jsx)(C.Z,{disabled:1===t,onClick:l}),(0,I.jsx)(y.Z,{disabled:50===t,onClick:c}),(0,I.jsx)(k.Z,{onClick:u})]})}}}))},S=p.memo(R),z=function(e){var n=e.editable,t=e.onDelete,i=e.onClick,a=e.autoSize,s=e.uid,c=e.loading,f=e.width,v=e.height,x=e.progress,E=e.maxHeight,w=e.maxWidth,Q=e.dataUrl,b=void 0===Q?"":Q,j=e.label,C=e.style,y=e.autoBgColor,k=e.preview,B=void 0===k||k,Z=e.loadingSize,N=void 0===Z?"default":Z,R=p.useRef(null),z=p.useState({width:f,height:v}),J=u()(z,2),U=J[0],D=J[1],K=p.useMemo((function(){return c?{width:"100%",height:"100%"}:{}}),[c,U]),L=(0,p.useCallback)((function(){null==i||i(e)}),[i,e]),M=(0,p.useCallback)((function(n){if(a&&n.width&&n.height){var t=n.width,i=n.height,r=e.width,o=e.height;if(r&&o){var s=t/r,l=i/o,c=Math.min(s,l,1),u=r*c,d=o*c;u===U.width&&d===U.height||D({width:u,height:d})}}}),[a,e.width,e.height]),F=p.useCallback(l()(o()().mark((function e(){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),[]);return(0,I.jsx)(m.Z,{onResize:M,children:(0,I.jsxs)("div",{style:r()({},C),className:A()("single-image",{"auto-bg-color":y,"auto-size":a,loading:c}),children:[y&&(0,I.jsx)("div",{className:"mask",style:{background:"url(".concat(b,") center center / cover no-repeat")}}),(0,I.jsxs)("span",{className:"thumb-img",style:r()({},K),ref:R,children:[(0,I.jsxs)(I.Fragment,{children:[j&&(0,I.jsx)("div",{className:"label",children:j}),c?(0,I.jsx)("span",{className:"progress-wrap",style:{width:"100%",height:"100%",display:"flex",border:"1px solid var(--ant-color-split)",borderRadius:"var(--border-radius-base)",justifyContent:"center",alignItems:"center",padding:"10px",overflow:"hidden"},children:(0,I.jsx)(g.Z,{percent:(0,h.round)(x,0),type:"dashboard",size:N,steps:{count:50,gap:2},format:function(){return(0,I.jsxs)("span",{className:"font-size-20",children:[(0,h.round)(x,0),"%"]})},trailColor:"var(--ant-color-fill-secondary)"})}):(0,I.jsxs)("span",{onClick:L,className:"img",style:{maxHeight:"min(".concat(E,", 100%)"),maxWidth:"min(".concat(w,", 100%)")},children:[(0,I.jsx)(S,{style:{objectFit:"cover"},preview:B,autoSize:a,src:b,width:U.width||"100%",height:U.height||100,onLoad:F}),x&&x<100&&(0,I.jsx)("span",{className:"small-progress-wrap",children:(0,I.jsx)(g.Z,{percent:(0,h.round)(x,0),type:"dashboard",size:"small",steps:{count:25,gap:3},format:function(){return(0,I.jsxs)("span",{className:"font-size-12",children:[(0,h.round)(x,0),"%"]})},strokeColor:"var(--color-white-secondary)",trailColor:"var(--ant-color-fill-secondary)"})})]})]}),n&&(0,I.jsx)("span",{className:"del",onClick:function(){return t(s)},children:(0,I.jsx)(d.Z,{})})]})]},s)})}},37963:function(e,n){n.Z={xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1600}},69997:function(e,n,t){t.d(n,{Z:function(){return c}});var i=t(48305),r=t.n(i),a=t(37963),o=t(32699),s=t.n(o),l=t(50959);function c(){var e=(0,l.useState)({width:window.innerWidth,height:window.innerHeight}),n=r()(e,2),t=n[0],i=n[1],o=(0,l.useState)(!1),c=r()(o,2),u=c[0],d=c[1],g=(0,l.useState)(!1),f=r()(g,2),A=f[0],h=f[1],m=(0,l.useState)(!1),p=r()(m,2),v=p[0],x=p[1],E=(0,l.useState)(""),w=r()(E,2),Q=w[0],b=w[1],j=(0,l.useCallback)((function(e){return e<a.Z.sm?(d(!0),h(!1),x(!1),void b("sm")):e<a.Z.md?(d(!1),h(!0),x(!1),void b("md")):e<a.Z.lg?(d(!1),h(!1),x(!0),void b("lg")):(d(!1),h(!1),x(!0),void b("xl"))}),[]),C=(0,l.useCallback)(s().throttle((function(){i({width:window.innerWidth,height:window.innerHeight})}),200),[]);return(0,l.useEffect)((function(){return window.addEventListener("resize",C),function(){window.removeEventListener("resize",C)}}),[C]),(0,l.useEffect)((function(){j(t.width)}),[t.width,j]),{size:t,isMobile:u,isTablet:A,isDesktop:v,currentPoint:Q}}},88479:function(e,n,t){t.d(n,{Z:function(){return z}});var i=t(90228),r=t.n(i),a=t(15558),o=t.n(a),s=t(87999),l=t.n(s),c=t(26068),u=t.n(c),d=t(48305),g=t.n(d),f=t(49280),A=t(82344),h=(t(10232),t(67201)),m=t(51076),p=t(77353),v=t(38551),x=t(8267),E=t(85885),w=t(76571),Q=t(83603),b=t(23333),j=t(32699),C=t.n(j),y=t(50959),k=t(94299),B=t(1731),Z=t(42326),I=t(76574),N=t(11527),R=[{label:"2 columns",icon:"icon-cols_2",value:{span:12,count:2},tips:"playground.toolbar.compare2Model"},{label:"3 columns",icon:"icon-cols_3",value:{span:8,count:3},tips:"playground.toolbar.compare3Model"},{label:"4 columns",icon:"icon-cols_4",value:{span:12,count:4},tips:"playground.toolbar.compare4Model"},{label:"6 columns",icon:"icon-cols_6",value:{span:8,count:6},tips:"playground.toolbar.compare6Model"}],S=(0,y.forwardRef)((function(e,n){var t=e.handleSubmit,i=e.handleAbortFetch,a=e.clearAll,s=e.updateLayout,c=e.addMessage,d=e.onCheck,j=e.onInputChange,S=e.title,z=e.loading,J=e.disabled,U=e.isEmpty,D=e.submitIcon,K=e.placeholer,L=e.defaultChecked,M=void 0===L||L,F=e.tools,P=e.style,H=e.checkLabel,Y=e.defaultSize,T=void 0===Y?{minRows:3,maxRows:8}:Y,G=e.shouldResetMessage,W=void 0===G||G,q=e.actions,O=void 0===q?["clear","layout","role","upload","add","paste"]:q,X=x.Z.TextArea,V=(0,v.useIntl)(),_=(0,y.useState)(!1),$=g()(_,2),ee=$[0],ne=$[1],te=(0,y.useState)({role:B.G7.User,content:"",imgs:[]}),ie=g()(te,2),re=ie[0],ae=ie[1],oe=(0,y.useRef)(0),se=(0,y.useRef)(null),le=(0,y.useMemo)((function(){var e;return!!J||!re.content&&U&&!(null!==(e=re.imgs)&&void 0!==e&&e.length)}),[J,re,U]),ce=function(){ae({role:re.role,content:"",imgs:[]})},ue=function(e){var n;null==j||j(e),ae(u()(u()({},re),{},{content:null===(n=e.target)||void 0===n?void 0:n.value}))},de=function(){t(u()({},re)),W&&ce()},ge=function(e){null==e||e.preventDefault(),null==c||c(u()({},re)),ce(),ne(!0),setTimeout((function(){var e,n;null===(e=se.current)||void 0===e||null===(n=e.focus)||void 0===n||n.call(e)}),100)},fe=(0,y.useCallback)(function(){var e=l()(r()().mark((function e(n){var t,i,a,s,l,c,d;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.clipboardData||window.clipboardData,i=t.items,a=[],s=r()().mark((function e(){var n,t,o;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"file"===(n=i[l]).kind&&-1!==n.type.indexOf("image")?(t=n.getAsFile(),o=new Promise((function(e,n){var i=new FileReader;i.onload=function(t){var i,r=null===(i=t.target)||void 0===i?void 0:i.result;r?e(r):n("Failed to convert image to base64")},i.readAsDataURL(t)})),a.push(o)):n.kind;case 2:case"end":return e.stop()}}),e)})),l=0;case 5:if(!(l<i.length)){e.next=10;break}return e.delegateYield(s(),"t0",7);case 7:l++,e.next=5;break;case 10:return e.prev=10,e.next=13,Promise.all(a);case 13:(c=e.sent).length&&(d=C().map(c,(function(e){return oe.current+=1,{uid:oe.current,dataUrl:e}})),ae(u()(u()({},re),{},{imgs:[].concat(o()(re.imgs||[]),o()(d))}))),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10);case 20:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(n){return e.apply(this,arguments)}}(),[re]),Ae=function(e){var n=C().filter(re.imgs,(function(n){return n.uid!==e}));ae(u()(u()({},re),{},{imgs:n}))},he=function(e){if(e.key===A.d4.ENTER.keybinding){if(e.shiftKey)return;e.preventDefault(),z||de()}};(0,y.useCallback)((function(){var e;if(re.imgs&&(null===(e=re.imgs)||void 0===e?void 0:e.length)>0){var n=o()(re.imgs||[]).pop();n&&Ae(n.uid)}}),[re.imgs,Ae]);return(0,y.useImperativeHandle)(n,(function(){return{handleInputChange:ue}})),(0,k.y1)(A.ZP.ADD,(function(e){e.preventDefault(),e.stopPropagation(),ge()}),{enabled:!z,enableOnFormTags:ee,preventDefault:!0}),(0,k.y1)(A.ZP.FOCUS,(function(){var e,n;null===(e=se.current)||void 0===e||null===(n=e.focus)||void 0===n||n.call(e,{cursor:"end"})}),{preventDefault:!0}),(0,N.jsxs)("div",{className:"messageInput",style:u()({},P),children:[(0,N.jsxs)("div",{className:"tool-bar",children:[(0,N.jsxs)("div",{className:"actions",children:[S,O.includes("role")&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(E.ZP,{type:"text",size:"middle",variant:"filled",color:"default",onClick:function(){ae(u()(u()({},re),{},{role:re.role===B.G7.User?B.G7.Assistant:B.G7.User}))},icon:(0,N.jsx)(h.Z,{rotate:90}),children:V.formatMessage({id:"playground.".concat(re.role)})}),(0,N.jsx)(w.Z,{type:"vertical",style:{margin:0}})]}),O.includes("check")&&(0,N.jsx)(Q.Z,{onChange:d,defaultChecked:M,children:H}),O.includes("upload")&&re.role===B.G7.User&&(0,N.jsx)(I.Z,{handleUpdateImgList:function(e){ae(u()(u()({},re),{},{imgs:[].concat(o()(re.imgs||[]),o()(e))}))},size:"middle"}),F,O.includes("clear")&&(0,N.jsx)(b.Z,{title:V.formatMessage({id:"common.button.clear"}),children:(0,N.jsx)(E.ZP,{disabled:z,type:"text",icon:(0,N.jsx)(m.Z,{}),size:"middle",onClick:function(e){e.stopPropagation(),a()}})}),O.includes("layout")&&s&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(w.Z,{type:"vertical",style:{margin:0}}),R.map((function(e){return(0,N.jsx)(b.Z,{title:V.formatMessage({id:e.tips}),children:(0,N.jsx)(E.ZP,{type:"text",icon:(0,N.jsx)(f.Z,{type:e.icon}),size:"middle",onClick:function(){return n=e.value,void(null==s||s(n));var n}},e.icon)},e.icon)}))]})]}),(0,N.jsxs)("div",{className:"actions",children:[O.includes("add")&&(0,N.jsx)(b.Z,{title:(0,N.jsxs)("span",{children:["[",A.d4.ADD.textKeybinding,"]"," ",V.formatMessage({id:"common.button.add"})]}),children:(0,N.jsx)(E.ZP,{type:"default",size:"middle",onClick:ge,children:V.formatMessage({id:"common.button.add"})})}),z?(0,N.jsx)(E.ZP,{style:{width:46},type:"primary",onClick:function(){i()},size:"middle",icon:(0,N.jsx)(f.Z,{type:"icon-stop1",className:"font-size-14"})}):(0,N.jsx)(b.Z,{title:(0,N.jsxs)("span",{children:["[",A.d4.SUBMIT.textKeybinding,"]"," ",V.formatMessage({id:"common.button.submit"})]}),children:(0,N.jsx)(E.ZP,{style:{width:46},type:"primary",onClick:de,size:"middle",disabled:le,children:null!=D?D:(0,N.jsx)(p.Z,{rotate:0,className:"font-size-14"})})})]})]}),(0,N.jsx)(Z.Z,{dataList:re.imgs||[],onDelete:Ae,editable:!0}),(0,N.jsxs)("div",{className:"input-box",children:[O.includes("paste")?(0,N.jsx)(X,{ref:se,autoSize:{minRows:T.minRows,maxRows:T.maxRows},onKeyDown:he,onChange:ue,value:re.content,size:"large",variant:"borderless",onFocus:function(){return ne(!0)},onBlur:function(){return ne(!1)},onPaste:function(e){e.clipboardData.getData("text")||(e.preventDefault(),fe(e))}}):(0,N.jsx)(X,{ref:se,autoSize:{minRows:T.minRows,maxRows:T.maxRows},onKeyDown:he,onChange:ue,value:re.content,size:"large",variant:"borderless",onFocus:function(){return ne(!0)},onBlur:function(){return ne(!1)}}),!re.content&&!ee&&(0,N.jsx)("span",{className:"holder",dangerouslySetInnerHTML:{__html:null!=K?K:V.formatMessage({id:"playground.input.holder"})}})]})]})})),z=S},42326:function(e,n,t){t.d(n,{Z:function(){return f}});var i=t(26068),r=t.n(i),a=t(46818),o=t(81745),s=t(7922),l=t(32699),c=t.n(l),u=t(50959),d=t(11527),g=function(e){e.layout;var n=e.column,t=void 0===n?2:n,i=e.dataList,l=e.editable,g=e.responseable,f=e.gutter,A=e.onDelete,h=e.onClick,m=e.autoBgColor,p=e.autoSize,v=e.style,x=(0,u.useCallback)((function(e){null==A||A(e)}),[A]),E=(0,u.useCallback)((function(e){null==h||h(e)}),[h]),w=(0,u.useMemo)((function(){return g?1===i.length?{0:{justifyContent:"center",alignItems:"center"}}:2===i.length?{0:{justifyContent:"flex-end",alignItems:"center"},1:{justifyContent:"flex-start",alignItems:"center"}}:3===i.length?{0:{justifyContent:"flex-end",alignItems:"flex-end"},1:{justifyContent:"flex-start",alignItems:"flex-end"},2:{justifyContent:"flex-end",alignItems:"flex-start"}}:{0:{justifyContent:"flex-end",alignItems:"flex-end"},1:{justifyContent:"flex-start",alignItems:"flex-end"},2:{justifyContent:"flex-end",alignItems:"flex-start"},3:{justifyContent:"flex-start",alignItems:"flex-start"}}:{}}),[i.length,g,t]);return(0,d.jsx)(d.Fragment,{children:null!=i&&i.length?(0,d.jsx)("div",{className:"thumb-list-wrap",style:r()({},v),children:g?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.Z,{gutter:f||[],className:"flex-center",style:{height:i.length>t?"50%":"100%",flex:"none",width:"100%",justifyContent:1===i.length?"center":"flex-start"},children:c().map(c().slice(i,0,t),(function(e,n){return(0,d.jsx)(s.Z,{span:e.span,className:"flex-center justify-center",style:{height:"100%",width:"100%"},children:(0,d.jsx)(a.Z,r()(r()({},e),{},{preview:e.preview,style:r()({},w[n]||{}),loading:e.loading,autoSize:p,editable:l,autoBgColor:m,onDelete:x,onClick:function(){return E(e)}}))},"1-".concat(n))}))}),i.length>t&&(0,d.jsx)(o.Z,{gutter:f||[],style:{height:"50%",flex:"none",width:"100%",justifyContent:1===i.length?"center":"flex-start"},className:"flex-center",children:c().map(c().slice(i,2),(function(e,n){return(0,d.jsx)(s.Z,{span:e.span,className:"flex-center justify-center",style:{height:"100%",width:"100%"},children:(0,d.jsx)(a.Z,r()(r()({},e),{},{preview:e.preview,style:r()({},w[n+2]||{}),loading:e.loading,autoSize:p,editable:l,autoBgColor:m,onDelete:x,onClick:function(){return E(e)}}))},"2-".concat(n))}))})]}):(0,d.jsx)(d.Fragment,{children:c().map(i,(function(e){return(0,u.createElement)(a.Z,r()(r()({},e),{},{preview:e.preview,key:e.uid,autoSize:p,editable:l,autoBgColor:m,onDelete:x,onClick:function(){return E(e)}}))}))})}):null})},f=u.memo(g)},76574:function(e,n,t){var i=t(90228),r=t.n(i),a=t(87999),o=t.n(a),s=t(56642),l=t(38551),c=t(30898),u=t(23333),d=t(85885),g=t(32699),f=t(50959),A=t(11527),h=["image/png","image/jpg","image/jpeg"],m=function(e){var n=e.handleUpdateImgList,t=e.multiple,i=void 0===t||t,a=e.drag,m=void 0!==a&&a,p=e.disabled,v=void 0!==p&&p,x=e.children,E=e.icon,w=e.title,Q=e.accept,b=void 0===Q?h.join(","):Q,j=e.size,C=void 0===j?"small":j,y=(0,l.useIntl)(),k=(0,f.useRef)(null),B=(0,f.useCallback)((function(e){return new Promise((function(n){var t=new Image;t.onload=function(){n({rawWidth:(0,g.round)(t.width,0),rawHeight:(0,g.round)(t.height,0)})},t.onerror=function(){n({rawWidth:0,rawHeight:0})},t.src=e}))}),[]),Z=(0,f.useCallback)((function(e){return new Promise((function(n,t){var i=new FileReader;i.readAsDataURL(e),i.onload=function(){return n(i.result)},i.onerror=function(e){return t(e)}}))}),[]),I=(0,f.useCallback)((0,g.debounce)((function(e){n(e)}),300),[n,y]),N=(0,f.useCallback)(function(){var e=o()(r()().mark((function e(n){var t,i,a;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.fileList,e.next=3,Promise.all(t.map(function(){var e=o()(r()().mark((function e(n){var t,i,a,o;return r()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.originFileObj||n.url){e.next=12;break}return e.next=3,Z(n.originFileObj);case 3:return t=e.sent,e.next=6,B(t);case 6:i=e.sent,a=i.rawWidth,o=i.rawHeight,n.url=t,n.rawWidth=a,n.rawHeight=o;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 3:(i=e.sent).length>0&&(a=i.filter((function(e){return e.url})).map((function(e){return{dataUrl:e.url,uid:e.uid,rawWidth:e.rawWidth,rawHeight:e.rawHeight}})),I(a));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[I,Z]);return(0,A.jsx)(A.Fragment,{children:m?(0,A.jsx)(c.Z.Dragger,{ref:k,accept:b,multiple:i,action:"/",fileList:[],beforeUpload:function(e){return!1},onChange:N,children:null!=x?x:(0,A.jsx)(u.Z,{title:null!=w?w:y.formatMessage({id:"playground.img.upload"}),children:(0,A.jsx)(d.ZP,{disabled:v,size:C,type:"text",icon:null!=E?E:(0,A.jsx)(s.Z,{})})})}):(0,A.jsx)(c.Z,{ref:k,accept:b,multiple:i,action:"/",fileList:[],beforeUpload:function(e){return!1},onChange:N,children:null!=x?x:(0,A.jsx)(u.Z,{title:null!=w?w:y.formatMessage({id:"playground.img.upload"}),children:(0,A.jsx)(d.ZP,{disabled:v,size:C,type:"text",icon:null!=E?E:(0,A.jsx)(s.Z,{})})})})})};n.Z=f.memo(m)},10232:function(e,n,t){t.d(n,{a5:function(){return g},lH:function(){return u}});var i=t(26068),r=t.n(i),a=t(90228),o=t.n(a),s=t(87999),l=t.n(s),c=t(58258),u=function(e){return new Promise((function(n,t){var i=new FileReader;i.readAsDataURL(e),i.onload=function(){return n(i.result)},i.onerror=function(e){return t(e)}}))},d=function(){var e=l()(o()().mark((function e(n,t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){try{var r=new Blob([n],{type:t}),a=(0,c.hy)(r.size),o=document.createElement("audio"),s=URL.createObjectURL(r);o.src=s,o.addEventListener("loadedmetadata",(function(){var n=o.duration;e({data:r,size:a,type:t,duration:Math.ceil(n),url:s})})),o.addEventListener("ended",(function(){URL.revokeObjectURL(o.src)}))}catch(e){i(e)}})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),g=function(){var e=l()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var i=new FileReader;i.onload=function(){var i=l()(o()().mark((function i(a){var s,l;return o()().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,s=a.target.result,i.next=5,d(s,n.type);case 5:l=i.sent,e(r()(r()({},l||{}),{},{name:n.name})),i.next=13;break;case 9:i.prev=9,i.t0=i.catch(0),t(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,9]])})));return function(e){return i.apply(this,arguments)}}(),i.onerror=function(e){return t(e)},i.readAsArrayBuffer(n)})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},76223:function(){}}]);