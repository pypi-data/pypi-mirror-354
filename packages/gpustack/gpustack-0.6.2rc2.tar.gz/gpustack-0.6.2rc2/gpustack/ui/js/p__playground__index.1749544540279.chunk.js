"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8268],{8445:function(e,n,t){var s=t(26068),a=t.n(s),l=t(48305),r=t.n(l),i=t(67825),o=t.n(i),c=t(43943),u=t(76808),d=t(32699),h=t(50959),m=t(62605),f=t(11527),p=["children","maxWidth","minWidth","ghost","title","showTitle","tooltipProps"],g=function(e){var n=e.children,t=e.maxWidth,s=void 0===t?"100%":t,l=e.minWidth,i=e.ghost,g=void 0!==i&&i,v=e.title,x=e.showTitle,y=void 0!==x&&x,j=e.tooltipProps,b=o()(e,p),k=(0,h.useRef)(null),w=(0,h.useState)(!1),C=r()(w,2),M=C[0],Z=C[1],S=(0,h.useRef)(null),N=(0,h.useCallback)((function(){if(k.current){var e=k.current,n=e.scrollWidth,t=e.clientWidth;Z(n>t)}}),[k.current]);(0,h.useEffect)((function(){var e,n,t=k.current;if(t)return null===(e=S.current)||void 0===e||e.disconnect(),S.current=new ResizeObserver((function(){N()})),null===(n=S.current)||void 0===n||n.observe(t),N(),function(){var e;null===(e=S.current)||void 0===e||e.disconnect(),S.current=null}}),[N]),(0,h.useEffect)((function(){var e=(0,d.throttle)(N,200);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e),e.cancel()}}),[N]),(0,h.useEffect)((function(){N()}),[n,N]);var R=(0,h.useMemo)((function(){return a()({maxWidth:s,minWidth:l,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},b.style)}),[s,b.style]);return(0,f.jsx)(m.$R,{toolTipProps:a()(a()({},j),{},{destroyTooltipOnHide:!1}),title:!(!M&&!y)&&(v||n),children:g?(0,f.jsx)("div",{ref:k,style:R,"data-overflow":M,children:n}):(0,f.jsx)(u.Z,a()(a()({},b),{},{ref:k,style:a()(a()({},R),{},{paddingInline:b.closable?"8px 22px":8,borderRadius:12}),closeIcon:!!b.closable&&(0,f.jsx)(c.Z,{style:{position:"absolute",right:8,top:6}}),children:n}))})};n.Z=h.memo(g)},62605:function(e,n,t){t.d(n,{$R:function(){return x}});var s,a=t(67825),l=t.n(a),r=t(26068),i=t.n(r),o=t(53649),c=t.n(o),u=t(38780),d=t(23333),h=t(50959),m=t(97884),f=t(11527),p=["overlayInnerStyle"],g=m.ZP.div(s||(s=c()(["\n  max-height: ",";\n  overflow-y: auto;\n  width: 100%;\n"])),(function(e){var n=e.$maxHeight;return"number"==typeof n?"".concat(n,"px"):n})),v=function(e){var n=e.children,t=e.maxHeight,s=e.scrollbars,a=e.oppositeTheme,l=e.style,r=h.useRef(null),o=(0,u.Z)({options:{scrollbars:s,oppositeTheme:a}}).initialize;return h.useEffect((function(){r.current&&o(r.current)}),[]),(0,f.jsx)(g,{ref:r,"data-overlayscrollbars-initialize":!0,className:"overlay-scroller-wrapper",$maxHeight:t||200,hidden:!1,style:i()({paddingInlineStart:8,paddingInlineEnd:8},l),children:n})},x=function(e){var n=e.children,t=e.maxHeight,s=e.title,a=e.toolTipProps,r=e.scrollbars,o=e.oppositeTheme,c=a||{},u=c.overlayInnerStyle,h=l()(c,p);return(0,f.jsx)(d.Z,i()(i()({overlayInnerStyle:i()({paddingInline:0},u),title:s&&(0,f.jsx)(v,{scrollbars:i()(i()({},r),{},{theme:"os-theme-light"}),maxHeight:t,oppositeTheme:o,children:s})},h),{},{children:n}))};n.ZP=v},76847:function(e,n,t){t.r(n),t.d(n,{default:function(){return jn}});var s=t(90228),a=t.n(s),l=t(87999),r=t.n(l),i=t(48305),o=t.n(i),c=t(49280),u=t(37963),d=t(82344),h=t(69997),m=t(57989),f=t(92067),p=t(63830),g=t(67581),v=t(38551),x=t(54235),y=t(85885),j=t(96938),b=t(47946),k=t(82187),w=t.n(k),C=t(32699),M=t.n(C),Z=t(50959),S=t(94299),N=t(91082),R=t(15558),I=t.n(R),P=t(26068),T=t.n(P),A=t(54876),E=(t(99951),t(1731)),L=t(39121),_=t(26174),z=t(38780),O=t(69510);function G(e){var n=(0,z.Z)(),t=n.initialize,s=n.updateScrollerPosition,l=(0,Z.useState)(!1),i=o()(l,2),c=i[0],u=i[1],d=(0,Z.useState)(null),h=o()(d,2),m=h[0],f=h[1],p=(0,Z.useState)([]),g=o()(p,2),v=g[0],x=g[1],y=(0,Z.useRef)(null),j=(0,Z.useRef)(0),b=(0,Z.useRef)(""),k=(0,Z.useRef)(null),w=(0,Z.useRef)(0),C=(0,Z.useRef)(""),S=function(){return j.current=j.current+1,j.current},R=function(e){var n;if(f(T()({},null!==(n=null==e?void 0:e.usage)&&void 0!==n?n:{})),e&&M().get(e,"choices",[]).length){C.current=C.current+M().get(e,"choices.0.delta.reasoning_content",""),b.current=b.current+M().get(e,"choices.0.delta.content","");var t,s=(t={content:b.current,reasoningContent:C.current}).reasoningContent&&!t.content?"<think>".concat(t.reasoningContent):t.reasoningContent&&t.content?"<think>".concat(t.reasoningContent,"</think>").concat(t.content):t.content;x([].concat(I()(v),I()(k.current),[{role:E.G7.Assistant,content:s,uid:j.current}]))}},P=function(){var e,n;null===(e=y.current)||void 0===e||null===(n=e.abort)||void 0===n||n.call(e),u(!1),f(null)},A=function(){var e=r()(a()().mark((function e(n){var t,s,l,r,i,o,c,d,h,m,p,g;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),S(),f(null),l=n.current,r=n.parameters,i=n.system,null===(t=y.current)||void 0===t||null===(s=t.abort)||void 0===s||s.call(t),y.current=new AbortController,o=y.current.signal,k.current=l?[T()(T()({},l),{},{uid:j.current})]:[],b.current="",C.current="",x((function(e){return[].concat(I()(e),I()(k.current))})),c=[].concat(I()(i?[i]:[]),I()(v),I()(k.current)),d=(0,E.qK)(c),h=T()(T()({messages:d},r),{},{stream:!0,stream_options:{include_usage:!0}}),e.next=16,(0,O.U3)({data:h,url:N.qt,signal:o});case 16:if(null==(m=e.sent)||!m.error){e.next=20;break}return f({error:!0,errorMessage:(0,E.Yo)(m)}),e.abrupt("return");case 20:return S(),p=m.reader,g=m.decoder,e.next=24,(0,O.LN)(p,g,(function(e){null!=e&&e.error?f({error:!0,errorMessage:(0,E.Yo)(e)}):R(e)}));case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(0);case 29:return e.prev=29,u(!1),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[0,26,29,32]])})));return function(n){return e.apply(this,arguments)}}();return(0,Z.useEffect)((function(){e.current&&t(e.current)}),[e.current,t]),(0,Z.useEffect)((function(){c&&s()}),[v,c]),(0,Z.useEffect)((function(){v.length>w.current&&s(),w.current=v.length}),[v.length]),(0,Z.useEffect)((function(){return function(){P()}}),[]),{loading:c,tokenResult:m,messageList:v,setMessageId:S,setMessageList:x,handleClear:function(){x([]),f(null)},handleAddNewMessage:function(e){var n,t=e||{role:(null===(n=M().last(v))||void 0===n?void 0:n.role)===E.G7.User?E.G7.Assistant:E.G7.User,content:""};x((function(e){return[].concat(I()(e),[T()(T()({},t),{},{uid:S()})])}))},handleStopConversation:P,updateScrollerPosition:s,submitMessage:A}}var D=t(24662),F=(t(29031),t(76223),t(80912)),U=t(88479),$=(t(64818),t(61033)),H=t(63417),W=t(48660),K=t(81e3),V=t(23333),B=t(76574),Y=t(11527),q=function(e){var n=e.actions,t=e.data,s=e.loading,a=e.updateMessage,l=e.onDelete,r=e.onEdit,i=(0,v.useIntl)(),o=(0,Z.useCallback)((function(e){null==a||a({role:t.role,content:t.content,uid:t.uid,imgs:[].concat(I()(t.imgs||[]),I()(e))})}),[t,a]);return(0,Y.jsx)(Y.Fragment,{children:n.length>1&&!s?(0,Y.jsx)("div",{className:"actions",children:(0,Y.jsxs)("div",{className:"actions-wrap gap-5",children:[n.includes("upload")&&t.role===E.G7.User&&(0,Y.jsx)(B.Z,{handleUpdateImgList:o}),n.includes("edit")&&t.role===E.G7.Assistant&&(0,Y.jsx)(V.Z,{title:i.formatMessage({id:"common.button.edit"}),children:(0,Y.jsx)(y.ZP,{size:"small",type:"text",icon:(0,Y.jsx)(W.Z,{}),onClick:r})}),t.content&&n.includes("copy")&&(0,Y.jsx)(H.Z,{text:t.content,size:"small",shape:"default",type:"text",fontSize:"12px"}),n.includes("delete")&&(0,Y.jsx)(V.Z,{title:i.formatMessage({id:"common.button.delete"}),children:(0,Y.jsx)(y.ZP,{size:"small",type:"text",onClick:l,icon:(0,Y.jsx)(K.Z,{})})})]})}):null})},J=t(67825),X=t.n(J),Q=t(53649),ee=t.n(Q),ne=t(80357),te=(t(64720),t(56703)),se=t(10314),ae=t(65308),le=t(6229),re=t(97884),ie=t(43585),oe=(t(76848),/&(?:amp|lt|gt|quot|#(?:0+)?39);/g);RegExp(oe.source);var ce,ue=["children","className","node","theme"],de=["href","children"],he=re.ZP.div.attrs((function(){return{className:"markdown-viewer"}}))(ce||(ce=ee()(["\n  line-height: 2;\n"]))),me=function(e){var n=e.children,t=e.className,s=(e.node,e.theme),a=X()(e,ue),l=/language-(\w+)/.exec(t||"");return l?(0,Y.jsx)(ie.Z,{code:n,lang:l[1],theme:s}):(0,Y.jsx)("code",T()(T()({},a),{},{className:t,children:n}))},fe=function(e){var n=e.content,t=e.theme,s=(0,Z.useMemo)((function(){return function(e){return e.replaceAll("$\\ce{","$\\\\ce{").replaceAll("$\\pu{","$\\\\pu{")}(function(e){for(var n="",t=0;t<e.length;t+=1){var s=e[t],a=e[t+1]||" ";"$"===s&&a>="0"&&a<="9"&&(s="\\$"),n+=s}return n}(n).replaceAll(/(```[\S\s]*?```|`.*?`)|\\\[([\S\s]*?[^\\])\\]|\\\((.*?)\\\)/g,(function(e,n,t,s){return n||(t?"$$".concat(t,"$$"):s?"$".concat(s,"$"):e)})))}),[n]);return(0,Y.jsx)(he,{children:(0,Y.jsx)(te.U,{remarkPlugins:[[le.Z],ae.Z],rehypePlugins:[se.Z],components:{code:function(e){return(0,Y.jsx)(me,T()(T()({},e),{},{theme:t}))},a:function(e){var n=e.href,t=e.children,s=X()(e,de);return(0,Y.jsx)("a",T()(T()({href:(0,ne.N)(n)},s),{},{target:"_blank",rel:"noopener noreferrer",children:t}))}},children:s})})},pe=t(8267),ge=t(42326),ve=function(e){var n=e.content,t=e.collapsed;return(0,Y.jsx)(Y.Fragment,{children:n?(0,Y.jsx)("div",{className:"think-wrapper",children:!t&&(0,Y.jsx)("div",{className:"think-content",children:(0,Y.jsx)(fe,{content:n})})}):null})},xe=(0,Z.forwardRef)((function(e,n){var t,s,l=e.editable,i=e.data,c=e.loading,u=e.reasoningContent,d=e.showMarkdown,h=e.collapsed,m=e.updateMessage,f=(0,Z.useRef)(null),p=(0,Z.useRef)(0),g=Z.useState(i.content),v=o()(g,2),x=v[0],y=v[1],j=(0,Z.useCallback)(function(){var e=r()(a()().mark((function e(n){var t,s,l,r,o,c,u;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.clipboardData||window.clipboardData,s=t.items,l=[],r=a()().mark((function e(){var n,t,r;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"file"===(n=s[o]).kind&&-1!==n.type.indexOf("image")?(t=n.getAsFile(),r=new Promise((function(e,n){var s=new FileReader;s.onload=function(t){var s,a=null===(s=t.target)||void 0===s?void 0:s.result;a?e(a):n("Failed to convert image to base64")},s.readAsDataURL(t)})),l.push(r)):n.kind;case 2:case"end":return e.stop()}}),e)})),o=0;case 5:if(!(o<s.length)){e.next=10;break}return e.delegateYield(r(),"t0",7);case 7:o++,e.next=5;break;case 10:return e.prev=10,e.next=13,Promise.all(l);case 13:(c=e.sent).length&&(u=M().map(c,(function(e){return p.current+=1,{uid:p.current,dataUrl:e}})),null==m||m({role:i.role,content:i.content,uid:i.uid,imgs:[].concat(I()(i.imgs||[]),I()(u))})),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10);case 20:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(n){return e.apply(this,arguments)}}(),[i,m]),b=function(e){e.clipboardData.getData("text")||(e.preventDefault(),j(e))},k=function(e){var n=M().filter(i.imgs,(function(n){return n.uid!==e}));null==m||m({role:i.role,content:i.content,uid:i.uid,imgs:n})},C=function(e){null==m||m({imgs:i.imgs||[],role:i.role,content:e.target.value,uid:i.uid})},S=function(e){y(e.target.value)},N=function(){y(i.content)},R=function(){null==m||m({role:i.role,content:x,uid:i.uid,imgs:i.imgs})},P=(0,Z.useCallback)((function(){var e;if(i.imgs&&(null===(e=i.imgs)||void 0===e?void 0:e.length)>0){var n=I()(i.imgs||[]).pop();n&&k(n.uid)}}),[i.imgs,k]),T=((0,Z.useCallback)((function(e){var n;"Backspace"===e.key&&""===i.content&&i.imgs&&(null===(n=i.imgs)||void 0===n?void 0:n.length)>0&&(e.preventDefault(),P())}),[i,P]),function(e){var n;e.stopPropagation(),e.preventDefault(),null===(n=f.current)||void 0===n||n.focus()});return(0,Z.useImperativeHandle)(n,(function(){return{handleSaveEdit:R,handleCancelEdit:N,setEditContent:y}})),(0,Y.jsx)(Y.Fragment,{children:l?(0,Y.jsxs)("div",{className:w()("message-content-input",{"has-img":null===(s=i.imgs)||void 0===s?void 0:s.length}),onClick:T,children:[(0,Y.jsx)(ge.Z,{editable:l,dataList:i.imgs||[],onDelete:k}),(0,Y.jsx)(Y.Fragment,{children:i.role===E.G7.User?(0,Y.jsx)(pe.Z.TextArea,{ref:f,value:i.content,variant:"filled",autoSize:{minRows:1},style:{borderRadius:"var(--border-radius-mini)"},readOnly:c,onChange:C,onPaste:b}):(0,Y.jsx)(Y.Fragment,{children:d?(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(ve,{collapsed:h,content:u.thought,isThinking:c&&u.isThinking}),(0,Y.jsx)("div",{style:{paddingInline:4},children:(0,Y.jsx)(fe,{content:"".concat(u.result||"")})})]}):(0,Y.jsx)(pe.Z.TextArea,{ref:f,value:x,defaultValue:i.content,variant:"filled",autoSize:{minRows:1},style:{borderRadius:"var(--border-radius-mini)"},onChange:S,onPaste:b})})})]}):(0,Y.jsxs)("div",{className:w()("content-item-content",{"has-img":null===(t=i.imgs)||void 0===t?void 0:t.length}),children:[(0,Y.jsx)(ge.Z,{editable:l,dataList:i.imgs||[],onDelete:k}),i.content&&(0,Y.jsx)("div",{className:"text",children:i.content})]})})})),ye=xe,je=t(25298),be=t.n(je),ke=t(17069),we=t.n(ke),Ce=t(82092),Me=t.n(Ce),Ze=function(){function e(){be()(this,e),Me()(this,"lastCheckedIndex",void 0),Me()(this,"collecting",void 0),Me()(this,"thought",void 0),Me()(this,"result",void 0),this.thought="",this.result="",this.collecting=!1,this.lastCheckedIndex=0}return we()(e,[{key:"parse",value:function(e){for(;this.lastCheckedIndex<e.length;){var n=e.indexOf("<think>",this.lastCheckedIndex),t=e.indexOf("</think>",this.lastCheckedIndex);this.collecting?-1!==t?(this.thought+=e.substring(this.lastCheckedIndex,t),this.collecting=!1,this.lastCheckedIndex=t+8):(this.thought+=e.substring(this.lastCheckedIndex),this.lastCheckedIndex=e.length):-1!==t&&(-1===n||t<n)?(this.thought=this.result+e.substring(this.lastCheckedIndex,t),this.result="",this.lastCheckedIndex=t+8):-1!==n?(this.result+=e.substring(this.lastCheckedIndex,n),this.collecting=!0,this.lastCheckedIndex=n+7):(this.result+=e.substring(this.lastCheckedIndex),this.lastCheckedIndex=e.length)}return{thought:this.thought.trim(),result:this.result,isThinking:this.collecting}}},{key:"reset",value:function(){this.thought="",this.result="",this.collecting=!1,this.lastCheckedIndex=0}}]),e}(),Se=function(e){var n=e.handleSave,t=e.handleCancel,s=(0,v.useIntl)();return(0,Y.jsx)("div",{className:"save-actions",children:(0,Y.jsxs)("div",{className:"actions-wrap gap-8",children:[(0,Y.jsx)(y.ZP,{size:"small",icon:(0,Y.jsx)($.Z,{}),onClick:t,style:{borderRadius:"var(--border-radius-base)"},children:s.formatMessage({id:"common.button.cancel"})}),(0,Y.jsx)(y.ZP,{size:"small",type:"primary",icon:(0,Y.jsx)(c.Z,{type:"icon-save3"}),onClick:n,style:{borderRadius:"var(--border-radius-base)"},children:s.formatMessage({id:"common.button.save"})})]})})},Ne=function(e){var n=e.collapsed,t=e.setCollapsed,s=e.isThinking,a=(0,v.useIntl)();return(0,Y.jsx)("div",{className:"flex-center",style:{marginLeft:10,borderRadius:"var(--border-radius-base)",width:"max-content",overflow:"hidden"},children:(0,Y.jsxs)(y.ZP,{size:"small",type:"text",className:"flex-center",variant:"filled",color:"default",onClick:function(){return t(!n)},children:[(0,Y.jsx)("span",{children:s?a.formatMessage({id:"playground.chat.thinking"}):a.formatMessage({id:"playground.chat.aithought"})}),(0,Y.jsx)(c.Z,{type:"icon-down",rotate:n?0:180})]})})},Re=function(e){var n=e.updateMessage,t=e.onDelete,s=e.loading,a=e.data,l=e.editable,r=e.showTitle,i=void 0===r||r,u=e.actions,d=void 0===u?["upload","delete","copy","edit"]:u,h=(0,v.useIntl)(),m=Z.useState(!0),f=o()(m,2),p=f[0],g=f[1],x=Z.useRef(null),y=Z.useRef(null),j=Z.useState(!1),b=o()(j,2),k=b[0],w=b[1],C=(0,Z.useMemo)((function(){return a.role===E.G7.User?{thought:"",isThinking:!1,result:""}:(!y.current&&p&&(y.current=new Ze),p?y.current.parse(a.content):{thought:"",isThinking:!1,result:a.content})}),[a.content,p,a.role]),M=(0,Z.useMemo)((function(){if(!i)return null;var e=h.formatMessage({id:"playground.".concat(a.role)}),n=(0,Y.jsx)(c.Z,{type:"icon-user-filled",className:"font-size-16 m-r-5 text-tertiary"});return a.role===E.G7.Assistant&&(n=(0,Y.jsx)(c.Z,{type:"icon-assistant-filled",className:"font-size-16 m-r-5",style:{color:"var(--ant-blue-5)"}})),a.title&&(e=a.title),(0,Y.jsxs)("div",{className:"role flex-center",children:[n,e,a.role===E.G7.Assistant&&C.thought&&(0,Y.jsx)(Ne,{isThinking:s&&C.isThinking,collapsed:k,setCollapsed:w})]})}),[a.role,a.title,h,i,s,C.thought,C.isThinking,k]);return(0,Y.jsxs)("div",{className:"content-item",children:[(0,Y.jsx)("div",{className:"content-item-title",children:i&&M}),(0,Y.jsx)("div",{className:"content-item-role",style:{display:d.length?"flex":"none"},children:p?(0,Y.jsx)(q,{data:a,actions:d,loading:s,onDelete:t,onEdit:function(){var e;g(!1),null===(e=x.current)||void 0===e||e.setEditContent(a.content)},updateMessage:n}):(0,Y.jsx)(Se,{handleSave:function(){var e;null===(e=x.current)||void 0===e||e.handleSaveEdit(),g(!0)},handleCancel:function(){var e;null===(e=x.current)||void 0===e||e.handleCancelEdit(),g(!0)}})}),(0,Y.jsx)(ye,{ref:x,editable:l,showMarkdown:p,data:a,loading:s,actions:d,collapsed:k,reasoningContent:C,updateMessage:function(e){var t;(null==n||n(e),a.role===E.G7.Assistant)&&(null===(t=y.current)||void 0===t||t.reset())}})]})},Ie=Z.memo(Re),Pe=function(e){var n=e.setMessageList,t=e.messageList,s=e.editable,a=e.showTitle,l=void 0===a||a,r=e.loading,i=e.actions,o=void 0===i?["upload","delete","copy"]:i;return(0,Y.jsx)(Y.Fragment,{children:!!t.length&&(0,Y.jsx)("div",{className:"message-content-list",children:t.map((function(e,a){return(0,Y.jsx)(Ie,{loading:r,data:e,editable:s,actions:o,showTitle:l,onDelete:function(){return function(e){var s=I()(t);s.splice(e,1),null==n||n(s)}(a)},updateMessage:function(e){return function(e,s){var a=I()(t);a[e]=s,null==n||n(a)}(a,e)}},e.uid)}))})})},Te=Z.memo(Pe),Ae=t(43943),Ee=t(83603),Le=t(76571),_e=function(e){var n=e.systemMessage,t=e.showApplyToAll,s=e.setSystemMessage,a=e.style,l=e.applyToAll,r=(0,v.useIntl)(),i=(0,Z.useState)(!1),c=o()(i,2),u=c[0],d=c[1],h=Z.useRef(null),m=(0,Z.useState)({minRows:1,maxRows:1,focus:!1}),f=o()(m,2),p=f[0],g=f[1],x=function(){g({minRows:4,maxRows:4,focus:!0}),setTimeout((function(){var e,n;null===(e=h.current)||void 0===e||null===(n=e.focus)||void 0===n||n.call(e,{cursor:"end"})}),100)};return(0,Z.useEffect)((function(){u&&(null==l||l(n))}),[u]),(0,Y.jsxs)("div",{className:w()("sys-message",{focus:p.focus}),style:T()({},a),children:[(0,Y.jsxs)("div",{style:{display:p.focus?"block":"none"},className:"textarea-wrapper",children:[(0,Y.jsx)("span",{className:"system-label",children:r.formatMessage({id:"playground.systemMessage"})}),(0,Y.jsx)(pe.Z.TextArea,{className:"custome-scrollbar",ref:h,variant:"filled",placeholder:r.formatMessage({id:"playground.system.tips"}),style:{borderRadius:"0",border:"none"},value:n,autoSize:{minRows:p.minRows,maxRows:p.maxRows},onFocus:x,onBlur:function(e){g({minRows:1,maxRows:1,focus:!1})},allowClear:!1,onChange:function(e){s(e.target.value),u&&(null==l||l(e.target.value))}}),t&&(0,Y.jsxs)("span",{className:"apply-check",onMouseDown:function(e){e.preventDefault(),d(!u)},children:[(0,Y.jsx)("span",{className:"m-r-5",children:r.formatMessage({id:"playground.compare.applytoall"})}),(0,Y.jsx)(Ee.Z,{checked:u})]}),(0,Y.jsx)(Le.Z,{style:{margin:"0"}})]}),!p.focus&&(0,Y.jsxs)("div",{className:"sys-content-wrap",onClick:x,children:[(0,Y.jsxs)("div",{className:"sys-content",children:[(0,Y.jsx)("span",{className:"title",children:r.formatMessage({id:"playground.systemMessage"})}),n||(0,Y.jsx)("span",{style:{color:"var(--ant-color-text-tertiary)"},children:r.formatMessage({id:"playground.system.tips"})})]}),n&&(0,Y.jsx)(V.Z,{title:r.formatMessage({id:"common.button.clear"}),children:(0,Y.jsx)(y.ZP,{className:"clear-btn",type:"text",icon:(0,Y.jsx)(Ae.Z,{}),size:"small",onClick:function(){s("")}})})]})]})},ze=Z.memo(_e),Oe=t(78093),Ge=t(87497),De=function(e){var n=(0,v.useIntl)(),t=e.usage,s=e.showOutput,a=void 0===s||s,l=e.scaleable,r=e.fields,i=void 0===r?["completion_tokens","prompt_tokens"]:r;return!t||M().isEmpty(t)?null:t.error?(0,Y.jsxs)(Ge.Z.Paragraph,{type:"danger",ellipsis:{rows:2,tooltip:null==t?void 0:t.errorMessage},style:{textAlign:"center",paddingBlock:0,margin:0,paddingInline:4,borderRadius:2,backgroundColor:"var(--ant-color-error-bg)"},children:[(0,Y.jsx)(Oe.Z,{className:"m-r-8"}),null==t?void 0:t.errorMessage]}):(0,Y.jsxs)("div",{className:w()("reference-params",{scaleable:l}),children:[(0,Y.jsx)("span",{className:w()("usage",{scaleable:l}),children:(0,Y.jsx)(V.Z,{title:(0,Y.jsxs)(x.Z,{children:[i.includes("completion_tokens")&&(0,Y.jsxs)("span",{children:[n.formatMessage({id:"playground.completion"}),":"," ",t.completion_tokens]}),i.includes("prompt_tokens")&&(0,Y.jsxs)("span",{children:[n.formatMessage({id:"playground.prompt"}),":"," ",t.prompt_tokens]})]}),children:(0,Y.jsxs)("span",{children:[n.formatMessage({id:"playground.tokenusage"}),":"," ",t.total_tokens]})})}),a&&(0,Y.jsx)("span",{className:w()("usage",{scaleable:l}),children:(0,Y.jsx)(V.Z,{title:(0,Y.jsxs)(x.Z,{children:[(0,Y.jsxs)("span",{children:["TPOT: ",M().round(t.time_per_output_token_ms,2)||0," ms"]}),(0,Y.jsxs)("span",{children:["TTFT: ",M().round(t.time_to_first_token_ms,2)||0," ms"]})]}),children:(0,Y.jsxs)("span",{children:[n.formatMessage({id:"playground.tokenoutput"}),":"," ",M().round(t.tokens_per_second,2)||0," Tokens/s"]})})})]})},Fe=t(31759),Ue=t.n(Fe),$e=t(76932),He=t(90515),We=t(1956),Ke="bash",Ve="python",Be="javascript",Ye=[{label:"Curl",value:Ke},{label:"Python",value:Ve},{label:"Nodejs",value:Be}],qe=function(e){var n=e||{},t=n.title,s=n.open,a=n.api,l=n.clientType,r=n.logcommand,i=n.onCancel,c=n.payload,u=n.parameters,d=void 0===u?{}:u,h=(0,v.useIntl)(),m=(0,Z.useState)(Ke),f=o()(m,2),p=f[0],g=f[1],x="".concat(window.location.origin,"/").concat(N.ZG),j=(0,Z.useMemo)((function(){var e=r?"console.log(response.".concat(r,");\n"):"",n=r?"print(response.".concat(r,")"):"";if(p===Ke)return"curl ".concat(window.location.origin,"/").concat(N.ZG,"/").concat(a,' \\\n-H "Content-Type: application/json" \\\n-H "Authorization: Bearer ${YOUR_GPUSTACK_API_KEY}" \\\n-d \'').concat(JSON.stringify(T()(T()({},d),c),null,2),"'");if(p===Be)return'const OpenAI = require("openai");\n\nconst openai = new OpenAI({\n  "apiKey": "YOUR_GPUSTACK_API_KEY",\n  "baseURL": "'.concat(x,'"\n});\n\nasync function main(){\n  const params = ').concat(JSON.stringify(T()(T()({},d),c),null,4),";\nconst response = await openai.").concat(l,"(params);\n  ").concat(e,"}\nmain();");if(p===Ve){var t=M().keys(d).reduce((function(e,n){if(null===d[n])return e;var t="string"==typeof d[n]?'"'.concat(d[n],'"'):d[n];return e+"  ".concat(n,"=").concat(t,",\n")}),""),s=function(e){return M().keys(e).reduce((function(n,t){if(null===e[t])return n;var s="object"===Ue()(e[t])?JSON.stringify(e[t],null,2):'"'.concat(e[t],'"');return n+"  ".concat(t,"=").concat(s,",\n")}),"")}(c);return'from openai import OpenAI\n\nclient = OpenAI(\n  base_url="'.concat(x,'", \n  api_key="YOUR_GPUSTACK_API_KEY"\n)\n\nresponse = client.').concat(l,"(\n").concat(t).concat(s,")\n").concat(n)}return""}),[p,c,d,a,l,r]);return(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsxs)(We.Z,{title:t,open:s,centered:!0,onCancel:function(){g(Ke),i()},destroyOnClose:!0,closeIcon:!0,maskClosable:!1,keyboard:!1,width:600,footer:null,children:[(0,Y.jsx)("div",{style:{marginBottom:"10px"},children:h.formatMessage({id:"playground.viewcode.info"})}),(0,Y.jsxs)("div",{children:[(0,Y.jsx)($e.Z,{copyText:j,langOptions:Ye,defaultValue:Ke,showHeader:!0,onChangeLang:function(e){g(e)},styles:{wrapper:{backgroundColor:"var(--color-editor-dark)"}},children:(0,Y.jsx)(ie.Z,{height:380,theme:"dark",code:j,lang:p,copyable:!1})}),(0,Y.jsxs)("div",{style:{marginTop:10,display:"flex",alignItems:"baseline"},children:[(0,Y.jsx)(He.Z,{className:"m-r-8"}),(0,Y.jsx)("span",{children:h.formatMessage({id:"playground.viewcode.tips"},{here:(0,Y.jsx)(y.ZP,{type:"link",size:"small",href:"#/api-keys",target:"_blank",style:{paddingInline:2},children:(0,Y.jsxs)("span",{children:[" ",h.formatMessage({id:"playground.viewcode.here"})]})})})})]})]})]})})},Je=Z.memo(qe),Xe=(0,Z.forwardRef)((function(e,n){var t,s=e.modelList,a=(0,v.useIntl)(),l=(0,Z.useState)(""),r=o()(l,2),i=r[0],c=r[1],u=(0,Z.useState)(!1),d=o()(u,2),h=d[0],m=d[1],f=(0,Z.useState)(!1),p=o()(f,2),g=p[0],x=p[1],y=(0,Z.useRef)(null),j=(0,Z.useState)(["upload","delete","copy","edit"]),b=o()(j,2),k=b[0],C=(b[1],G(y)),M=C.submitMessage,S=C.handleStopConversation,N=C.handleAddNewMessage,R=C.handleClear,P=C.setMessageList,z=C.tokenResult,O=C.messageList,$=C.loading,H=(0,D.X)({modelList:s,isChat:!0},{defaultValues:T()(T()({},_.Bx),{},{model:null===(t=s[0])||void 0===t?void 0:t.value}),defaultParamsConfig:L.Lw,metaKeys:_.m4}),W=H.handleOnValuesChange,K=H.formRef,V=H.paramsRef,B=H.paramsConfig,q=H.initialValues,J=H.parameters;(0,Z.useImperativeHandle)(n,(function(){return{viewCode:function(){m(!0)},setCollapse:function(){x(!g)},collapse:g}}));var X=(0,Z.useMemo)((function(){var e=i?[{role:E.G7.System,content:i}]:[],n=(0,E.qK)(I()(O));return[].concat(e,I()(n))}),[O,i]);return(0,Y.jsxs)("div",{className:"ground-left-wrapper",children:[(0,Y.jsxs)("div",{className:"ground-left",children:[(0,Y.jsx)("div",{className:"message-list-wrap",ref:y,children:(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)("div",{style:{marginBottom:20},children:(0,Y.jsx)(ze,{style:{borderRadius:"var(--border-radius-mini)",overflow:"hidden"},systemMessage:i,setSystemMessage:c})}),(0,Y.jsxs)("div",{className:"content",children:[(0,Y.jsx)(Te,{messageList:O,setMessageList:P,editable:!0,loading:$,actions:k}),$&&(0,Y.jsx)(A.Z,{size:"small",children:(0,Y.jsx)("div",{style:{height:"46px"}})})]})]})}),z&&!$&&(0,Y.jsx)("div",{style:{height:40},children:(0,Y.jsx)(De,{usage:z})}),(0,Y.jsx)("div",{className:"ground-left-footer",children:(0,Y.jsx)(U.Z,{defaultSize:{minRows:5,maxRows:5},actions:["clear","layout","role","upload","add","paste"],defaultChecked:!1,loading:$,disabled:!J.model,isEmpty:!O.length,handleSubmit:function(e){var n,t=e.content||null!==(n=e.imgs)&&void 0!==n&&n.length?e:void 0;M({system:i?{role:E.G7.System,content:i}:void 0,current:t,parameters:J})},addMessage:N,handleAbortFetch:S,clearAll:R})})]}),(0,Y.jsx)("div",{className:w()("params-wrapper",{collapsed:g}),ref:V,children:(0,Y.jsx)("div",{className:"box",children:(0,Y.jsx)(F.Z,{ref:K,onValuesChange:W,paramsConfig:B,initialValues:q,modelList:s,showModelSelector:!0})})}),(0,Y.jsx)(Je,T()(T()({},E.NW.chat),{},{open:h,payload:{messages:X},parameters:J,onCancel:function(){m(!1)},title:a.formatMessage({id:"playground.viewcode"})}))]})})),Qe=Z.createContext({}),en=t(23010),nn=function(e){var n=e.style,t=(0,v.useIntl)();(0,v.useNavigate)();return(0,Y.jsx)("div",{className:"flex-center  justify-center",style:T()({},n),children:(0,Y.jsx)(en.Z,{image:en.Z.PRESENTED_IMAGE_SIMPLE,description:(0,Y.jsx)("div",{className:"flex-column",children:(0,Y.jsx)(Ge.Z.Text,{type:"secondary",children:t.formatMessage({id:"playground.model.noavailable"})})})})})},tn=t(81745),sn=t(7922),an=t(8445),ln=t(62605),rn=t(51076),on=t(69070),cn=t(1404),un=t(43211),dn=t(84682),hn=t(8964),mn=t(40918),fn=(0,Z.forwardRef)((function(e,n){var t=e.modelList,s=e.model,a=e.instanceId,l=(0,Z.useContext)(Qe),r=l.globalParams,i=l.setGlobalParams,u=l.setLoadingStatus,d=l.handleDeleteModel,h=l.handleApplySystemChangeToAll,m=l.modelFullList,f=l.actions,p=(0,D.X)(e,{defaultValues:T()(T()({},_.Bx),{},{model:s}),defaultParamsConfig:L.Lw,metaKeys:_.m4}),g=p.handleOnValuesChange,x=p.handleOnModelChange,j=p.setParams,b=p.setInitialValues,k=p.formRef,w=p.paramsConfig,C=p.initialValues,S=p.parameters,N=(0,v.useIntl)(),R=(0,Z.useRef)(!1),P=(0,Z.useState)(""),z=o()(P,2),O=z[0],U=z[1],$=(0,Z.useState)(!1),H=o()($,2),W=H[0],K=H[1],V=(0,Z.useRef)(null),B=G(V),q=B.submitMessage,J=B.handleAddNewMessage,X=B.handleClear,Q=B.setMessageList,ee=B.handleStopConversation,ne=B.tokenResult,te=B.messageList,se=B.loading,ae=(0,Z.useMemo)((function(){var e=O?[{role:E.G7.System,content:O}]:[],n=(0,E.qK)(I()(te));return[].concat(e,I()(n))}),[te,O]),le=function(){ee(),u(a,!1)},re=function(e){var n,t=e.content||null!==(n=e.imgs)&&void 0!==n&&n.length?e:void 0;q({system:O?{role:E.G7.System,content:O}:void 0,current:t,parameters:S})},ie=(0,Z.useCallback)((function(e,n){g(e,T()(T()({},n),{},{model:S.model})),R.current&&i(T()({},n))}),[S,R.current]),oe=(0,Z.useMemo)((function(){var e=[{label:N.formatMessage({id:"common.button.clear"}),key:"clear",icon:(0,Y.jsx)(rn.Z,{}),danger:!1,onClick:function(){Q([]),U("")}},{label:N.formatMessage({id:"playground.viewcode"}),key:"viewcode",icon:(0,Y.jsx)(c.Z,{type:"icon-code"}),onClick:function(){K(!0)}}];return t.length>2&&e.push({label:N.formatMessage({id:"common.button.delete"}),key:"delete",icon:(0,Y.jsx)(on.Z,{}),danger:!0,onClick:function(){d(a)}}),e}),[t,N]);return(0,Z.useEffect)((function(){j((function(e){return T()(T()({},e),r)})),b((function(e){return T()(T()({},e),r)}))}),[r]),(0,Z.useEffect)((function(){return u(a,se),function(){u(a,!1)}}),[se]),(0,Z.useImperativeHandle)(n,(function(){return{submit:re,abortFetch:le,addNewMessage:J,clear:X,setSystemMessage:U,loading:se}})),(0,Y.jsxs)("div",{className:"model-item",children:[(0,Y.jsxs)("div",{className:"header",children:[(0,Y.jsx)("span",{className:"title",children:(0,Y.jsx)(dn.default,{style:{width:"100%"},variant:"borderless",options:m,onChange:function(e){x(e),X()},value:S.model,labelRender:function(e){return(0,Y.jsx)(an.Z,{ghost:!0,tooltipProps:{placement:"right"},minWidth:60,maxWidth:180,children:e.label})},optionRender:function(e){return(0,Y.jsx)(an.Z,{ghost:!0,tooltipProps:{placement:"right"},minWidth:60,maxWidth:180,children:e.label})}})}),ne&&!se&&(0,Y.jsx)(De,{usage:ne,scaleable:!0}),(0,Y.jsxs)("span",{className:"action",children:[(0,Y.jsx)(hn.Z,{menu:{items:oe},placement:"bottomRight",children:(0,Y.jsx)(y.ZP,{type:"text",icon:(0,Y.jsx)(cn.Z,{style:{fontSize:"14px"}}),size:"small"})}),(0,Y.jsx)(mn.Z,{placement:"bottomRight",overlayInnerStyle:{width:384,paddingInline:0},content:(0,Y.jsx)(ln.ZP,{maxHeight:500,style:{paddingInline:"16px"},oppositeTheme:!0,children:(0,Y.jsx)(F.Z,{ref:k,onValuesChange:ie,paramsConfig:w,initialValues:C,showModelSelector:!1})}),trigger:["click"],arrow:!1,fresh:!0,title:(0,Y.jsx)("div",{style:{paddingInline:"16px"},children:(0,Y.jsx)(Ee.Z,{onChange:function(e){R.current=e.target.checked,e.target.checked&&i(T()({},M().omit(S,"model")))},children:N.formatMessage({id:"playground.compare.applytoall"})})}),children:(0,Y.jsx)(y.ZP,{type:"text",icon:(0,Y.jsx)(un.Z,{}),size:"small"})})]})]}),(0,Y.jsx)(ze,{showApplyToAll:!0,systemMessage:O,applyToAll:h,setSystemMessage:U}),(0,Y.jsx)("div",{className:"content",ref:V,children:(0,Y.jsxs)("div",{children:[(0,Y.jsx)(Te,{messageList:te,setMessageList:Q,actions:f,editable:!0}),(0,Y.jsx)(A.Z,{spinning:se,size:"small",style:{width:"100%"}})]})}),(0,Y.jsx)(Je,T()(T()({},E.NW.chat),{},{open:W,payload:{messages:ae},parameters:S,onCancel:function(){K(!1)},title:N.formatMessage({id:"playground.viewcode"})}))]})})),pn=Z.memo(fn),gn=function(e){var n=e.spans,t=e.modelSelections,s=e.setModelRefs;return(0,Y.jsx)(tn.Z,{gutter:[16,0],style:{height:"100%"},children:t.map((function(e,a){return(0,Y.jsx)(sn.Z,{span:n.span,style:{height:n.count<4?"calc(100% - 16px)":"calc(50% - 16px)"},children:(0,Y.jsx)(pn,{ref:function(n){return s(e.instanceId,n)},instanceId:e.instanceId,modelList:t,model:e.value},"".concat(e.value||"empty","-").concat(e.uid))},"".concat(e.value||"empty","-").concat(e.uid))}))})},vn=Z.memo(gn),xn=function(e){var n=e.modelList,t=e.loaded,s=(0,z.Z)().initialize,a=(0,Z.useState)({}),l=o()(a,2),r=l[0],i=l[1],c=(0,Z.useState)([]),u=o()(c,2),d=u[0],h=u[1],m=(0,Z.useState)({}),f=o()(m,2),p=f[0],g=f[1],v=(0,Z.useState)({span:12,count:2}),x=o()(v,2),y=x[0],j=x[1],b=(0,Z.useRef)({}),k=(0,Z.useRef)({}),w=(0,Z.useRef)(null),C=(0,Z.useState)(["upload","delete","copy","edit"]),S=o()(C,2),N=S[0],R=(S[1],(0,Z.useMemo)((function(){return Object.getOwnPropertySymbols(r).some((function(e){return r[e]}))}),[r])),I=function(e){return b.current[e]=M().add(b.current[e],1),b.current[e]},P=(0,Z.useCallback)((function(e,n){k.current[e]=n}),[]);return(0,Z.useEffect)((function(){k.current={};var e=M().take(n,y.count);if(e.length<y.count&&e.length>0){var t=y.count-e.length,s=Array.from({length:t},(function(e,n){return{label:"",value:"",type:"empty"}}));e=M().concat(e,s)}var a=e.map((function(e){return T()(T()({},e),{},{uid:I(e.value||"empty"),instanceId:"empty"===e.type?Symbol("empty"):Symbol(e.value)})}));h(a)}),[n]),(0,Z.useEffect)((function(){w.current&&s(w.current)}),[w.current,s]),(0,Y.jsxs)("div",{className:"multiple-chat",style:{height:"calc(100vh - 72px)"},children:[(0,Y.jsx)("div",{className:"chat-list",ref:w,children:n.length>0?(0,Y.jsx)(Qe.Provider,{value:{spans:y,globalParams:p,loadingStatus:r,modelFullList:n,actions:N,handleApplySystemChangeToAll:function(e){Object.getOwnPropertySymbols(k.current).forEach((function(n){var t=k.current[n];null==t||t.setSystemMessage(e)}))},setGlobalParams:g,setLoadingStatus:function(e,n){i((function(t){var s=T()({},t);return s[e]=n,s}))},handleDeleteModel:function(e){var n,t=d.filter((function(n){return n.instanceId!==e}));!function(e){k.current[e]=null,r[e]=!1}(e),n=y.count-1,6===y.count?j({span:8,count:n}):5===y.count?j({span:12,count:n}):4===y.count?j({span:8,count:n}):3===y.count&&j({span:12,count:n}),h(t)}},children:(0,Y.jsx)(vn,{spans:y,modelSelections:d,setModelRefs:P})}):t&&(0,Y.jsx)(nn,{style:{height:"100%",paddingBottom:60}})}),(0,Y.jsx)("div",{children:(0,Y.jsx)(U.Z,{loading:R,disabled:R||!d.length||!n.length,handleSubmit:function(e){Object.getOwnPropertySymbols(k.current).forEach((function(n){var t=k.current[n];null==t||t.submit(e)}))},addMessage:function(e){Object.getOwnPropertySymbols(k.current).forEach((function(n){var t=k.current[n];null==t||t.addNewMessage(e)}))},handleAbortFetch:function(){Object.getOwnPropertySymbols(k.current).forEach((function(e){var n=k.current[e];null==n||n.abortFetch()}))},clearAll:function(){Object.getOwnPropertySymbols(k.current).forEach((function(e){var n=k.current[e];null==n||n.clear()}))},updateLayout:function(e){j(e),function(e){var t=d;if(t.length<e.count){var s=e.count-t.length,a=M().slice(n,t.length,t.length+s),l=Array.from({length:s-a.length},(function(e,n){return{label:"",value:"",type:"empty"}})),r=M().concat(a,l).map((function(e){return T()(T()({},e),{},{uid:I(e.value||"empty"),instanceId:"empty"===e.type?Symbol("empty"):Symbol(e.value)})}));h(M().concat(t,r))}else if(t.length>e.count){var i=t.slice(0,e.count);h(i)}}(e)},setModelSelections:function(e){var n=e.map((function(e){return T()(T()({},e),{},{uid:I(e.value),instanceId:Symbol(e.value)})})),t=M().concat(d,n),s=Math.floor(24/t.length);j({span:s<8?8:s,count:y.count}),h(t)},actions:["clear","layout","role","upload","add","paste"],defaultChecked:!1,defaultSize:{minRows:5,maxRows:5}})})]})},yn=(0,Z.memo)(xn),jn=(t(64232),function(){var e=(0,v.useIntl)(),n=(0,h.Z)().size,t=(0,Z.useState)("chat"),s=o()(t,2),l=s[0],i=s[1],k=(0,Z.useRef)(null),C=(0,Z.useRef)(null),R=(0,Z.useState)([]),I=o()(R,2),P=I[0],T=I[1],A=(0,Z.useState)(!1),E=o()(A,2),L=E[0],_=E[1],z=(0,Z.useMemo)((function(){return[{label:e.formatMessage({id:"menu.playground.chat"}),value:"chat",icon:(0,Y.jsx)(f.Z,{})},{label:e.formatMessage({id:"menu.compare"}),value:"compare",icon:(0,Y.jsx)(p.Z,{})}]}),[e]),O=(0,Z.useCallback)((function(){var e,n;if("reranker"===l)null===(e=C.current)||void 0===e||null===(n=e.viewCode)||void 0===n||n.call(e);else if("chat"===l){var t,s;null===(t=k.current)||void 0===t||null===(s=t.viewCode)||void 0===s||s.call(t)}}),[l]),G=(0,Z.useCallback)((function(){var e,n,t,s;"reranker"!==l?null===(e=k.current)||void 0===e||null===(n=e.setCollapse)||void 0===n||n.call(e):null===(t=C.current)||void 0===t||null===(s=t.setCollapse)||void 0===s||s.call(t)}),[l]),D=(0,Z.useMemo)((function(){return[{key:"chat",label:"Chat",children:(0,Y.jsx)(Xe,{ref:k,modelList:P})},{key:"compare",label:"Compare",children:(0,Y.jsx)(yn,{modelList:P,loaded:L})}]}),[P,L]);(0,Z.useEffect)((function(){var e,t,s;n.width<u.Z.lg&&(null===(e=k.current)||void 0===e||!e.collapse)&&(null===(t=k.current)||void 0===t||null===(s=t.setCollapse)||void 0===s||s.call(t))}),[n.width]),(0,Z.useEffect)((function(){var e=function(){var e=r()(a()().mark((function e(){var n,t,s;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={categories:m.Us.llm,with_meta:!0},e.next=4,(0,N.nb)(n);case 4:t=e.sent,s=M().map(t.data||[],(function(e){return{value:e.id,label:e.id,meta:e.meta}})),T(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0);case 12:return e.prev=12,_(!0),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var F=(0,Z.useMemo)((function(){return"compare"!==l&&(0,Y.jsxs)(x.Z,{children:[(0,Y.jsx)(y.ZP,{size:"middle",onClick:O,icon:(0,Y.jsx)(c.Z,{type:"icon-code",className:"font-size-16"}),children:e.formatMessage({id:"playground.viewcode"})}),(0,Y.jsx)(y.ZP,{size:"middle",onClick:G,icon:(0,Y.jsx)(c.Z,{type:"icon-a-layout6-line",className:"font-size-16"})})]},"buttons")}),[l,e,O,G]),U=(0,Z.useMemo)((function(){return{title:(0,Y.jsxs)("div",{className:"flex items-center",children:[(0,Y.jsx)("span",{className:"font-600",children:e.formatMessage({id:"menu.playground.chat"})}),(0,Y.jsx)(j.Z,{options:z,size:"middle",className:"m-l-40",onChange:function(e){return i(e)}})]}),style:{paddingInline:"var(--layout-content-header-inlinepadding)"},breadcrumb:{}}}),[z]);return(0,S.y1)(d.ZP.RIGHT.join(","),(function(){var e,n;"chat"===l&&(null===(e=k.current)||void 0===e||null===(n=e.setCollapse)||void 0===n||n.call(e))}),{preventDefault:!0}),(0,Y.jsx)(g._z,{ghost:!0,header:U,extra:F,className:w()("playground-container",{compare:"compare"===l,chat:"compare"!==l}),children:(0,Y.jsx)("div",{className:"play-ground",children:(0,Y.jsx)("div",{className:"chat",children:(0,Y.jsx)(b.Z,{items:D,activeKey:l})})})})})},76848:function(){}}]);