"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4931],{48660:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(35453),a=r(50959),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},i=r(52273),l=function(e,t){return a.createElement(i.Z,(0,n.Z)({},e,{ref:t,icon:o}))};var s=a.forwardRef(l)},47661:function(e,t,r){r.d(t,{rM:function(){return u},xx:function(){return c}});var n=r(26068),a=r.n(n),o=r(40227),i=r(9389),l=r(74901),s={theme:"light",mode:"auto",isDarkTheme:!1,colorPrimary:o.b},c=function(){if("undefined"==typeof window)return s;try{var e=JSON.parse(localStorage.getItem("userSettings")||"{}");return a()(a()({},s),e)}catch(e){return s}},d=(0,l.O4)("userSettings",s),u=(0,i.cn)((function(e){return e(d)}),(function(e,t,r){var n=e(d),i=a()(a()({},n),r||{});t(d,a()(a()({},i),{},{colorPrimary:i.colorPrimary||o.b,isDarkTheme:"realDark"===i.theme}))}))},8445:function(e,t,r){var n=r(26068),a=r.n(n),o=r(48305),i=r.n(o),l=r(67825),s=r.n(l),c=r(43943),d=r(76808),u=r(32699),m=r(50959),h=r(62605),g=r(11527),p=["children","maxWidth","minWidth","ghost","title","showTitle","tooltipProps"],f=function(e){var t=e.children,r=e.maxWidth,n=void 0===r?"100%":r,o=e.minWidth,l=e.ghost,f=void 0!==l&&l,x=e.title,v=e.showTitle,b=void 0!==v&&v,y=e.tooltipProps,S=s()(e,p),w=(0,m.useRef)(null),j=(0,m.useState)(!1),C=i()(j,2),$=C[0],k=C[1],Z=(0,m.useRef)(null),z=(0,m.useCallback)((function(){if(w.current){var e=w.current,t=e.scrollWidth,r=e.clientWidth;k(t>r)}}),[w.current]);(0,m.useEffect)((function(){var e,t,r=w.current;if(r)return null===(e=Z.current)||void 0===e||e.disconnect(),Z.current=new ResizeObserver((function(){z()})),null===(t=Z.current)||void 0===t||t.observe(r),z(),function(){var e;null===(e=Z.current)||void 0===e||e.disconnect(),Z.current=null}}),[z]),(0,m.useEffect)((function(){var e=(0,u.throttle)(z,200);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e),e.cancel()}}),[z]),(0,m.useEffect)((function(){z()}),[t,z]);var B=(0,m.useMemo)((function(){return a()({maxWidth:n,minWidth:o,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},S.style)}),[n,S.style]);return(0,g.jsx)(h.$R,{toolTipProps:a()(a()({},y),{},{destroyTooltipOnHide:!1}),title:!(!$&&!b)&&(x||t),children:f?(0,g.jsx)("div",{ref:w,style:B,"data-overflow":$,children:t}):(0,g.jsx)(d.Z,a()(a()({},S),{},{ref:w,style:a()(a()({},B),{},{paddingInline:S.closable?"8px 22px":8,borderRadius:12}),closeIcon:!!S.closable&&(0,g.jsx)(c.Z,{style:{position:"absolute",right:8,top:6}}),children:t}))})};t.Z=m.memo(f)},34649:function(e,t,r){var n=r(26068),a=r.n(n),o=r(67825),i=r.n(o),l=r(38551),s=r(8964),c=r(32699),d=r.n(c),u=r(50959),m=r(11527),h=["menu","trigger","placement","children"];t.Z=function(e){var t=e.menu,r=e.trigger,n=void 0===r?["hover"]:r,o=e.placement,c=void 0===o?"bottomRight":o,g=e.children,p=i()(e,h),f=(0,l.useIntl)(),x=(0,u.useMemo)((function(){var e;return null==t||null===(e=t.items)||void 0===e?void 0:e.map((function(e){return a()(a()({},d().omit(e,"locale")),{},{label:e.locale?f.formatMessage({id:e.label}):e.label})}))}),[null==t?void 0:t.items,f]);return(0,m.jsx)(s.Z,a()(a()({menu:{items:x,onClick:null==t?void 0:t.onClick},trigger:n,placement:c},p),{},{children:g}))}},13636:function(e,t,r){r.d(t,{Z:function(){return C}});var n=r(32699),a=r(50959),o=r(16222),i=r(13916),l=r(25620),s=r(953),c=r(4853),d=r(22241),u=r(99182),m=r(2177),h=r(19090),g=r(8725),p=r(62493),f=r(56031),x=r(7119),v=r(56262),b=r(83616),y=r(19175);f.D([c.N,d.N,u.N,m.N,h.N,g.N,p.N,o.N,i.N,l.N,s.N,v.T,b.z,y.N]);var S=x,w=r(11527),j=(0,a.forwardRef)((function(e,t){var r=e.options,o=e.width,i=e.height,l=(0,a.useRef)(null),s=(0,a.useRef)(),c=(0,a.useRef)(!1),d=(0,a.useRef)();(0,a.useImperativeHandle)(t,(function(){return{chart:s.current}}));var u=(0,a.useCallback)((function(){var e;l.current&&(null===(e=s.current)||void 0===e||e.clear(),s.current=S.init(l.current))}),[]),m=(0,a.useCallback)((function(){var e;null===(e=s.current)||void 0===e||e.resize()}),[]),h=(0,a.useCallback)((function(e){var t,r;null===(t=s.current)||void 0===t||t.clear(),null===(r=s.current)||void 0===r||r.setOption(e,{notMerge:!0,lazyUpdate:!0})}),[r]);return(0,a.useEffect)((function(){return l.current&&u(),function(){var e;null===(e=s.current)||void 0===e||e.dispose()}}),[u]),(0,a.useEffect)((function(){c.current=!1,m(),h(r),c.current=!0}),[r]),(0,a.useEffect)((function(){var e=(0,n.throttle)((function(){var e;c.current&&(null===(e=s.current)||void 0===e||e.resize())}),100);return l.current&&(d.current=new ResizeObserver(e),d.current.observe(l.current)),function(){var e;l.current&&(null===(e=d.current)||void 0===e||e.unobserve(l.current))}}),[]),(0,w.jsx)("div",{className:"chart-wrapper",style:{width:o,height:i},children:(0,w.jsx)("div",{ref:l,style:{width:o,height:i}})})})),C=j},29220:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(73341),a=r(98847),o=r(32699),i=r(50959),l=function(e){return"number"!=typeof e||isNaN(e)?e:e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"B":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e},s={left:0,right:20,bottom:20,containLabel:!0};function c(){var e=(0,n.Z)(),t=e.userSettings,r=e.isDarkTheme,c=(0,a.Z.useToken)().token,d=(0,i.useMemo)((function(){return{titleColor:c.colorText,splitLineColor:c.colorBorder,tickLineColor:c.colorSplit,axislabelColor:c.colorTextTertiary,gaugeBgColor:c.colorFillSecondary,gaugeSplitLineColor:r?"rgba(255,255,255,.3)":"rgba(255, 255, 255, 1)",gaugeSplitLineColor2:r?"rgba(255,255,255,.5)":"rgba(255, 255, 255, 1)",colorBgContainerHover:r?"#424242":"#fff"}}),[t.theme,r]),u={trigger:"axis",backgroundColor:d.colorBgContainerHover,borderColor:"transparent",formatter:function(e,t){var r='<span class="tooltip-x-name">'.concat(e[0].axisValue,"</span>");return e.forEach((function(e){var n=(0,o.isFunction)(t)?null==t?void 0:t(e.data.value):e.data.value;r+='<span class="tooltip-item">\n     <span class="tooltip-item-name">\n       <span style="display:inline-block;margin-right:5px;border-radius:8px;width:8px;height:8px;background-color:'.concat(e.color,';"></span>\n       <span class="tooltip-title">').concat(e.seriesName,'</span>:\n     </span>\n      <span class="tooltip-value">').concat(n,"</span>\n      </span>")})),'<div class="tooltip-wrapper">'.concat(r,"</div>")}},m={itemWidth:8,itemHeight:8,textStyle:{color:d.axislabelColor}},h={type:"category",axisTick:{show:!0,lineStyle:{color:d.tickLineColor}},axisLabel:{color:d.axislabelColor,fontSize:12},axisLine:{show:!1}},g={nameTextStyle:{padding:[0,0,0,-20]},splitLine:{show:!0,lineStyle:{type:"dashed",color:d.splitLineColor}},axisLabel:{color:d.axislabelColor,fontSize:12,formatter:l},axisTick:{show:!1},type:"value"},p={show:!0,left:"center",textStyle:{fontSize:12,color:d.titleColor},text:""},f={type:"gauge",radius:"88%",center:["50%","65%"],startAngle:190,endAngle:-10,min:0,max:100,splitNumber:5,progress:{show:!0,roundCap:!1,width:12},pointer:{length:"80%",width:4,itemStyle:{color:"auto"}},axisLine:{roundCap:!1,lineStyle:{width:12,color:[[.5,"rgba(84, 204, 152, 80%)"],[.8,"rgba(250, 173, 20, 80%)"],[1,"rgba(255, 77, 79, 80%)"]]}},axisTick:{distance:-11,length:6,splitNumber:5,lineStyle:{width:1.5,color:d.gaugeSplitLineColor}},splitLine:{distance:-5,length:5,lineStyle:{width:1.5,color:d.gaugeSplitLineColor2}},axisLabel:{distance:14,color:d.axislabelColor,fontSize:12},detail:{lineHeight:40,height:40,offsetCenter:[5,30],valueAnimation:!1,fontSize:20,color:d.titleColor,formatter:function(e){return"{value|"+e+"}{unit|%}"},rich:{value:{fontSize:16,fontWeight:"500",color:d.titleColor},unit:{fontSize:14,color:d.titleColor,fontWeight:"500",padding:[0,0,0,2]}}}};return{tooltip:u,grid:s,legend:m,xAxis:h,yAxis:g,title:p,chartColorMap:d,barItemConfig:{type:"bar",barMaxWidth:20,barMinWidth:8,barGap:"30%",barCategoryGap:"50%"},lineItemConfig:{type:"line",smooth:!0,showSymbol:!1,itemStyle:{},lineStyle:{width:1.5,opacity:.7}},gaugeItemConfig:f,isDark:r}}},30396:function(e,t,r){var n=r(23010),a=(r(50959),r(11527));t.Z=function(e){var t=e.height,r=e.title;return(0,a.jsxs)("div",{style:{width:"100%",height:t||"100%"},className:"flex-center  flex-column ",children:[r&&(0,a.jsx)("h3",{className:"justify-center font-size-12",style:{padding:"4px 0",marginBottom:0},children:r}),(0,a.jsx)("div",{className:"flex-center justify-center flex-column",style:{height:"100%"},children:(0,a.jsx)(n.Z,{image:n.Z.PRESENTED_IMAGE_SIMPLE})})]})}},62605:function(e,t,r){r.d(t,{$R:function(){return v}});var n,a=r(67825),o=r.n(a),i=r(26068),l=r.n(i),s=r(53649),c=r.n(s),d=r(38780),u=r(23333),m=r(50959),h=r(97884),g=r(11527),p=["overlayInnerStyle"],f=h.ZP.div(n||(n=c()(["\n  max-height: ",";\n  overflow-y: auto;\n  width: 100%;\n"])),(function(e){var t=e.$maxHeight;return"number"==typeof t?"".concat(t,"px"):t})),x=function(e){var t=e.children,r=e.maxHeight,n=e.scrollbars,a=e.oppositeTheme,o=e.style,i=m.useRef(null),s=(0,d.Z)({options:{scrollbars:n,oppositeTheme:a}}).initialize;return m.useEffect((function(){i.current&&s(i.current)}),[]),(0,g.jsx)(f,{ref:i,"data-overlayscrollbars-initialize":!0,className:"overlay-scroller-wrapper",$maxHeight:r||200,hidden:!1,style:l()({paddingInlineStart:8,paddingInlineEnd:8},o),children:t})},v=function(e){var t=e.children,r=e.maxHeight,n=e.title,a=e.toolTipProps,i=e.scrollbars,s=e.oppositeTheme,c=a||{},d=c.overlayInnerStyle,m=o()(c,p);return(0,g.jsx)(u.Z,l()(l()({overlayInnerStyle:l()({paddingInline:0},d),title:n&&(0,g.jsx)(x,{scrollbars:l()(l()({},i),{},{theme:"os-theme-light"}),maxHeight:r,oppositeTheme:s,children:n})},m),{},{children:t}))};t.ZP=x},62722:function(e,t,r){r.d(t,{f:function(){return f},Z:function(){return x}});var n=r(34649),a=r(16407),o=r(19019),i=r(69070),l=r(56838),s=r(38551),c=r(54235),d=r(85885),u=r(8267),m=r(84682),h=r(50959),g=r(11527),p=function(e){var t=e.left,r=e.right,n=e.marginBottom,a=void 0===n?0:n,o=e.marginTop,i=void 0===o?30:o,l=e.style,s=(0,h.useMemo)((function(){var e={};return e.marginBottom="".concat(a,"px"),e.marginTop="".concat(i,"px"),l&&Object.assign(e,l),e}),[a,i,l]);return(0,g.jsxs)("div",{className:"page-tools",style:s,children:[(0,g.jsx)("div",{className:"left",children:t}),(0,g.jsx)("div",{className:"right",children:r})]})},f=function(e){var t=e.handleInputChange,r=e.handleSelectChange,f=e.handleSearch,x=e.handleDeleteByBatch,v=e.handleClickPrimary,b=e.rowSelection,y=e.actionItems,S=e.selectOptions,w=e.showSelect,j=e.buttonText,C=e.buttonIcon,$=e.actionType,k=void 0===$?"button":$,Z=e.marginBottom,z=void 0===Z?10:Z,B=e.marginTop,D=void 0===B?10:B,M=e.inputHolder,E=void 0===M?"common.filter.name":M,A=e.selectHolder,T=e.showPrimaryButton,L=void 0===T||T,N=e.showDeleteButton,P=void 0===N||N,I=e.width,O=(0,s.useIntl)(),H=(0,h.useMemo)((function(){var e,t;return L||P?(0,g.jsxs)(c.Z,{size:20,children:["dropdown"===k?(0,g.jsx)(n.Z,{menu:{items:y,onClick:v},children:(0,g.jsx)(d.ZP,{icon:(0,g.jsx)(a.Z,{}),type:"primary",iconPosition:"end",children:j})}):(0,g.jsx)(d.ZP,{icon:null!=C?C:(0,g.jsx)(o.Z,{}),type:"primary",onClick:v,children:j}),(0,g.jsx)(d.ZP,{icon:(0,g.jsx)(i.Z,{}),danger:!0,onClick:x,disabled:!b.selectedRowKeys.length,children:(0,g.jsxs)("span",{children:[null==O||null===(e=O.formatMessage)||void 0===e?void 0:e.call(O,{id:"common.button.delete"}),b.selectedRowKeys.length>0&&(0,g.jsxs)("span",{children:["(",null===(t=b.selectedRowKeys)||void 0===t?void 0:t.length,")"]})]})})]}):null}),[y,k,null==b?void 0:b.selectedRowKeys,v,O]);return(0,g.jsx)(p,{marginBottom:z,marginTop:D,left:(0,g.jsxs)(c.Z,{children:[(0,g.jsx)(u.Z,{placeholder:O.formatMessage({id:E}),style:{width:(null==I?void 0:I.input)||230},allowClear:!0,onChange:t}),w&&(0,g.jsx)(m.default,{allowClear:!0,showSearch:!1,placeholder:O.formatMessage({id:A}),style:{width:(null==I?void 0:I.select)||230},size:"large",onChange:r,options:S}),(0,g.jsx)(d.ZP,{type:"text",style:{color:"var(--ant-color-text-tertiary)"},onClick:f,icon:(0,g.jsx)(l.Z,{})})]}),right:H})},x=p},37963:function(e,t){t.Z={xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1600}},20369:function(e,t,r){r.d(t,{Kd:function(){return n},_W:function(){return i},iE:function(){return o},tb:function(){return l},zK:function(){return a}});var n={CREATE:"create",UPDATE:"update",VIEW:"view"},a={error:{text:"var(--ant-red-6)",bg:"var(--ant-red-1)"},warning:{text:"var(--ant-orange-6)",bg:"var(--ant-orange-1)"},transitioning:{text:"var(--ant-blue-6)",bg:"var(--ant-blue-1)"},success:{text:"var(--ant-color-success)",bg:"var(--ant-color-success-bg)"},inactive:{text:"var(--ant-color-text-tertiary)",border:"rgba(200,200,200,1)",bg:"var(--ant-color-fill)"}},o={error:"error",warning:"warning",transitioning:"transitioning",success:"success",inactive:"inactive"},i={CREATE:1,UPDATE:2,DELETE:3},l=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*_+])[a-zA-Z\d!@#$%^&*_+]{6,12}$/},40227:function(e,t,r){r.d(t,{b:function(){return n},Z:function(){return a}});var n="#007BFF",a={light:{"root-entry-name":"variable",cssVar:!0,hashed:!1,components:{Input:{inputFontSize:14,inputFontSizeLG:14},Table:{headerBorderRadius:4,cellPaddingInline:16,cellPaddingBlock:6,cellFontSize:14,rowSelectedHoverBg:"rgb(249 249 249)",rowHoverBg:"rgb(249 249 249)",rowSelectedBg:"transparent"},Button:{contentFontSizeLG:14,primaryShadow:"none",defaultShadow:"none",dangerShadow:"none"},Tabs:{titleFontSizeLG:14},Menu:{iconSize:16,iconMarginInlineEnd:12,itemBorderRadius:4,itemSelectedColor:"#007BFF",itemHeight:44,groupTitleColor:"rgba(0,0,0,1)",itemHoverColor:"rgba(0,0,0,1)",itemColor:"rgba(0,0,0,1)",itemHoverBg:"rgba(0,0,0,0.04)",itemActiveBg:"rgba(0,0,0,0.04)"},Progress:{lineBorderRadius:2},Select:{optionSelectedBg:"rgba(230, 230, 230, 88%)",fontSizeLG:14},Message:{contentPadding:"12px 16px"},Tooltip:{colorBgSpotlight:"#3e3e3e"},Cascader:{dropdownHeight:240},Slider:{handleSize:8,handleSizeHover:8,trackBg:"rgba(0,0,0,0.15)",handleColor:"rgba(0,0,0,0.2)",trackHoverBg:"rgba(0,0,0,0.25)",handleActiveColor:"rgba(0,0,0,0.3)",dotActiveBorderColor:"rgba(0,0,0,0.25)",handleActiveOutlineColor:"rgba(0,0,0,0.25)",dotBorderColor:"rgba(0,0,0,0.25)"}},token:{fontFamily:"Helvetica Neue, -apple-system, BlinkMacSystemFont, Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",colorText:"rgba(0,0,0,1)",colorPrimary:"#007BFF",colorSuccess:"#54cc98",borderRadius:4,borderRadiusSM:2,colorBgContainer:"#fff",fontSize:14,motion:!0}},dark:{"root-entry-name":"variable",cssVar:!0,hashed:!1,components:{Input:{inputFontSize:14,inputFontSizeLG:14},Table:{headerBorderRadius:4,cellPaddingInline:16,cellPaddingBlock:6,cellFontSize:14,rowSelectedHoverBg:"#1d1d1d",rowHoverBg:"#1d1d1d",rowSelectedBg:"transparent"},Button:{contentFontSizeLG:14,primaryShadow:"none",defaultShadow:"none",dangerShadow:"none"},Tabs:{titleFontSizeLG:14},Menu:{iconSize:16,iconMarginInlineEnd:12,itemBorderRadius:4,itemHeight:44,itemSelectedColor:"#007BFF",darkItemSelectedBg:"#141414",darkItemHoverBg:"rgba(255, 255, 255, 0.03)",groupTitleColor:"rgba(0,0,0,1)",itemHoverColor:"rgba(0,0,0,1)",itemColor:"rgba(0,0,0,1)",itemHoverBg:"rgb(24 25 27)",itemActiveBg:"rgb(24 25 27)"},Progress:{lineBorderRadius:2},Select:{optionSelectedBg:"#333",fontSizeLG:14},Message:{contentPadding:"12px 16px"},Tooltip:{},Cascader:{dropdownHeight:240},Slider:{handleSize:8,handleSizeHover:8,trackBg:"rgba(255,255,255,.15)",handleColor:"rgba(255,255,255,0.2)",trackHoverBg:"rgba(255,255,255,0.25)",handleActiveColor:"rgba(255,255,255,0.3)",dotActiveBorderColor:"rgba(255,255,255,0.25)",handleActiveOutlineColor:"rgba(255,255,255,0.25)",dotBorderColor:"rgba(255,255,255,0.25)"}},token:{fontFamily:"Helvetica Neue, -apple-system, BlinkMacSystemFont, Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",colorText:"#ccc",colorPrimary:"#007BFF",colorSuccess:"#48A77E",borderRadius:4,borderRadiusSM:2,fontSize:14,motion:!0,colorFill:"#000",colorBgBase:"#000"}},colorPrimary:"#007BFF"}},73341:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(26068),a=r.n(n),o=r(48305),i=r.n(o),l=r(47661),s=r(40227),c=r(79416),d=r(50959);function u(){var e=s.Z.light,t=s.Z.dark,r=s.Z.colorPrimary,n=(0,c.KO)(l.rM),o=i()(n,2),u=o[0],m=o[1],h=function(e){var t=document.querySelector("html");t&&t.setAttribute("data-theme",e)},g=(0,d.useMemo)((function(){var n="realDark"===u.theme?t:e;return a()(a()({},n),{},{token:a()(a()({},n.token),{},{colorPrimary:u.colorPrimary||r})})}),[u.theme,u.colorPrimary]),p=function(e){var t=function(e){return"auto"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"realDark":"light":e}(e);h(t),m({theme:t,mode:e,isDarkTheme:"realDark"===t})};return(0,d.useEffect)((function(){h(u.theme)}),[u.theme]),(0,d.useEffect)((function(){if("auto"===u.mode){var e=window.matchMedia("(prefers-color-scheme: dark)"),t=function(){p("auto")};return e.addEventListener("change",t),function(){e.removeEventListener("change",t)}}}),[u.mode]),{userSettings:u,setUserSettings:m,setTheme:p,isDarkTheme:u.isDarkTheme,themeData:g,componentSize:"large"}}},69997:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(48305),a=r.n(n),o=r(37963),i=r(32699),l=r.n(i),s=r(50959);function c(){var e=(0,s.useState)({width:window.innerWidth,height:window.innerHeight}),t=a()(e,2),r=t[0],n=t[1],i=(0,s.useState)(!1),c=a()(i,2),d=c[0],u=c[1],m=(0,s.useState)(!1),h=a()(m,2),g=h[0],p=h[1],f=(0,s.useState)(!1),x=a()(f,2),v=x[0],b=x[1],y=(0,s.useState)(""),S=a()(y,2),w=S[0],j=S[1],C=(0,s.useCallback)((function(e){return e<o.Z.sm?(u(!0),p(!1),b(!1),void j("sm")):e<o.Z.md?(u(!1),p(!0),b(!1),void j("md")):e<o.Z.lg?(u(!1),p(!1),b(!0),void j("lg")):(u(!1),p(!1),b(!0),void j("xl"))}),[]),$=(0,s.useCallback)(l().throttle((function(){n({width:window.innerWidth,height:window.innerHeight})}),200),[]);return(0,s.useEffect)((function(){return window.addEventListener("resize",$),function(){window.removeEventListener("resize",$)}}),[$]),(0,s.useEffect)((function(){C(r.width)}),[r.width,C]),{size:r,isMobile:d,isTablet:g,isDesktop:v,currentPoint:w}}},91625:function(e,t,r){r.r(t),r.d(t,{default:function(){return nt}});var n=r(48305),a=r.n(n),o=r(67581),i=r(54876),l=r(50959),s=r(26068),c=r.n(s),d=r(90228),u=r.n(d),m=r(87999),h=r.n(m),g=r(38551),p="/dashboard";function f(){return x.apply(this,arguments)}function x(){return(x=h()(u()().mark((function e(){return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,g.request)(p));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=(0,l.createContext)({}),b=v,y=r(8445),S=r(62722),w=r(57989),j=r(58258),C=r(81745),$=r(7922),k=r(29687),Z=r(11527),z=[w.Us.llm,w.Us.embedding,w.Us.reranker],B=function(){var e=(0,g.useIntl)(),t=(0,l.useContext)(v).active_models||[],r=[{title:e.formatMessage({id:"common.table.name"}),dataIndex:"name",key:"name",ellipsis:!0,render:function(e,t){return(0,Z.jsx)(y.Z,{ghost:!0,children:(0,Z.jsx)("span",{children:e})})}},{title:e.formatMessage({id:"dashboard.allocatevram"}),dataIndex:"resource_claim.memory",key:"vram",ellipsis:!0,render:function(e,t){var r,n;return(0,Z.jsxs)(y.Z,{ghost:!0,children:[(0,j.hy)((null===(r=t.resource_claim)||void 0===r?void 0:r.vram)||0)," /"," ",(0,j.hy)((null===(n=t.resource_claim)||void 0===n?void 0:n.ram)||0)]})}},{title:e.formatMessage({id:"models.form.replicas"}),dataIndex:"instance_count",key:"instance_count"},{title:e.formatMessage({id:"dashboard.tokens"}),dataIndex:"token_count",key:"token_count",ellipsis:!0,render:function(e,t){var r,n=e;e||(n=z.includes(null===(r=t.categories)||void 0===r?void 0:r[0])?0:"N/A");return(0,Z.jsx)(y.Z,{ghost:!0,children:(0,Z.jsx)("span",{children:n})})}}];return(0,Z.jsx)(C.Z,{gutter:[20,0],children:(0,Z.jsxs)($.Z,{xs:24,sm:24,md:24,lg:24,xl:24,children:[(0,Z.jsx)(S.Z,{style:{margin:"26px 0px"},left:(0,Z.jsx)("span",{style:{padding:"9px 0",fontWeight:"var(--font-weight-bold)"},children:e.formatMessage({id:"dashboard.activeModels"})}),right:!1}),(0,Z.jsx)("div",{children:(0,Z.jsx)(k.Z,{columns:r,dataSource:t,pagination:!1,rowKey:"id"})})]})})},D=(0,l.memo)(B),M=r(82187),E=r.n(M),A=r(90123),T=r(29797),L=r(17793),N=r(45770),P=r(47946),I=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};var O=e=>{var{prefixCls:t,className:r,hoverable:n=!0}=e,a=I(e,["prefixCls","className","hoverable"]);const{getPrefixCls:o}=l.useContext(T.E_),i=o("card",t),s=E()(`${i}-grid`,r,{[`${i}-grid-hoverable`]:n});return l.createElement("div",Object.assign({},a,{className:s}))},H=r(1947),R=r(98231),F=r(41380),_=r(38456);const W=e=>{const{antCls:t,componentCls:r,headerHeight:n,cardPaddingBase:a,tabsMarginBottom:o}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:n,marginBottom:-1,padding:`0 ${(0,H.bf)(a)}`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.headerFontSize,background:e.headerBg,borderBottom:`${(0,H.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${(0,H.bf)(e.borderRadiusLG)} ${(0,H.bf)(e.borderRadiusLG)} 0 0`},(0,R.dF)()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},R.vS),{[`\n          > ${r}-typography,\n          > ${r}-typography-edit-content\n        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:o,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${(0,H.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`}}})},G=e=>{const{cardPaddingBase:t,colorBorderSecondary:r,cardShadow:n,lineWidth:a}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`\n      ${(0,H.bf)(a)} 0 0 0 ${r},\n      0 ${(0,H.bf)(a)} 0 0 ${r},\n      ${(0,H.bf)(a)} ${(0,H.bf)(a)} 0 0 ${r},\n      ${(0,H.bf)(a)} 0 0 0 ${r} inset,\n      0 ${(0,H.bf)(a)} 0 0 ${r} inset;\n    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:n}}},U=e=>{const{componentCls:t,iconCls:r,actionsLiMargin:n,cardActionsIconSize:a,colorBorderSecondary:o,actionsBg:i}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:i,borderTop:`${(0,H.bf)(e.lineWidth)} ${e.lineType} ${o}`,display:"flex",borderRadius:`0 0 ${(0,H.bf)(e.borderRadiusLG)} ${(0,H.bf)(e.borderRadiusLG)}`},(0,R.dF)()),{"& > li":{margin:n,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:e.calc(e.cardActionsIconSize).mul(2).equal(),fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${r}`]:{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:(0,H.bf)(e.fontHeight),transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${r}`]:{fontSize:a,lineHeight:(0,H.bf)(e.calc(a).mul(e.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:`${(0,H.bf)(e.lineWidth)} ${e.lineType} ${o}`}}})},q=e=>Object.assign(Object.assign({margin:`${(0,H.bf)(e.calc(e.marginXXS).mul(-1).equal())} 0`,display:"flex"},(0,R.dF)()),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},R.vS),"&-description":{color:e.colorTextDescription}}),K=e=>{const{componentCls:t,cardPaddingBase:r,colorFillAlter:n}=e;return{[`${t}-head`]:{padding:`0 ${(0,H.bf)(r)}`,background:n,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${(0,H.bf)(e.padding)} ${(0,H.bf)(r)}`}}},Y=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},V=e=>{const{componentCls:t,cardShadow:r,cardHeadPadding:n,colorBorderSecondary:a,boxShadowTertiary:o,cardPaddingBase:i,extraColor:l}=e;return{[t]:Object.assign(Object.assign({},(0,R.Wf)(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${t}-bordered)`]:{boxShadow:o},[`${t}-head`]:W(e),[`${t}-extra`]:{marginInlineStart:"auto",color:l,fontWeight:"normal",fontSize:e.fontSize},[`${t}-body`]:Object.assign({padding:i,borderRadius:`0 0 ${(0,H.bf)(e.borderRadiusLG)} ${(0,H.bf)(e.borderRadiusLG)}`},(0,R.dF)()),[`${t}-grid`]:G(e),[`${t}-cover`]:{"> *":{display:"block",width:"100%",borderRadius:`${(0,H.bf)(e.borderRadiusLG)} ${(0,H.bf)(e.borderRadiusLG)} 0 0`}},[`${t}-actions`]:U(e),[`${t}-meta`]:q(e)}),[`${t}-bordered`]:{border:`${(0,H.bf)(e.lineWidth)} ${e.lineType} ${a}`,[`${t}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${t}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:r}},[`${t}-contain-grid`]:{borderRadius:`${(0,H.bf)(e.borderRadiusLG)} ${(0,H.bf)(e.borderRadiusLG)} 0 0 `,[`${t}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${t}-loading) ${t}-body`]:{marginBlockStart:e.calc(e.lineWidth).mul(-1).equal(),marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),padding:0}},[`${t}-contain-tabs`]:{[`> div${t}-head`]:{minHeight:0,[`${t}-head-title, ${t}-extra`]:{paddingTop:n}}},[`${t}-type-inner`]:K(e),[`${t}-loading`]:Y(e),[`${t}-rtl`]:{direction:"rtl"}}},X=e=>{const{componentCls:t,cardPaddingSM:r,headerHeightSM:n,headerFontSizeSM:a}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:n,padding:`0 ${(0,H.bf)(r)}`,fontSize:a,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:r}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}};var J=(0,F.I$)("Card",(e=>{const t=(0,_.IX)(e,{cardShadow:e.boxShadowCard,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardActionsIconSize:e.fontSize,cardPaddingSM:12});return[V(t),X(t)]}),(e=>({headerBg:"transparent",headerFontSize:e.fontSizeLG,headerFontSizeSM:e.fontSize,headerHeight:e.fontSizeLG*e.lineHeightLG+2*e.padding,headerHeightSM:e.fontSize*e.lineHeight+2*e.paddingXS,actionsBg:e.colorBgContainer,actionsLiMargin:`${e.paddingSM}px 0`,tabsMarginBottom:-e.padding-e.lineWidth,extraColor:e.colorText}))),Q=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};const ee=e=>{const{actionClasses:t,actions:r=[],actionStyle:n}=e;return l.createElement("ul",{className:t,style:n},r.map(((e,t)=>{const n=`action-${t}`;return l.createElement("li",{style:{width:100/r.length+"%"},key:n},l.createElement("span",null,e))})))},te=l.forwardRef(((e,t)=>{const{prefixCls:r,className:n,rootClassName:a,style:o,extra:i,headStyle:s={},bodyStyle:c={},title:d,loading:u,bordered:m=!0,size:h,type:g,cover:p,actions:f,tabList:x,children:v,activeTabKey:b,defaultActiveTabKey:y,tabBarExtraContent:S,hoverable:w,tabProps:j={},classNames:C,styles:$}=e,k=Q(e,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps","classNames","styles"]),{getPrefixCls:Z,direction:z,card:B}=l.useContext(T.E_);const D=e=>{var t;return E()(null===(t=null==B?void 0:B.classNames)||void 0===t?void 0:t[e],null==C?void 0:C[e])},M=e=>{var t;return Object.assign(Object.assign({},null===(t=null==B?void 0:B.styles)||void 0===t?void 0:t[e]),null==$?void 0:$[e])},I=l.useMemo((()=>{let e=!1;return l.Children.forEach(v,(t=>{(null==t?void 0:t.type)===O&&(e=!0)})),e}),[v]),H=Z("card",r),[R,F,_]=J(H),W=l.createElement(N.Z,{loading:!0,active:!0,paragraph:{rows:4},title:!1},v),G=void 0!==b,U=Object.assign(Object.assign({},j),{[G?"activeKey":"defaultActiveKey"]:G?b:y,tabBarExtraContent:S});let q;const K=(0,L.Z)(h),Y=K&&"default"!==K?K:"large",V=x?l.createElement(P.Z,Object.assign({size:Y},U,{className:`${H}-head-tabs`,onChange:t=>{var r;null===(r=e.onTabChange)||void 0===r||r.call(e,t)},items:x.map((e=>{var{tab:t}=e,r=Q(e,["tab"]);return Object.assign({label:t},r)}))})):null;if(d||i||V){const e=E()(`${H}-head`,D("header")),t=E()(`${H}-head-title`,D("title")),r=E()(`${H}-extra`,D("extra")),n=Object.assign(Object.assign({},s),M("header"));q=l.createElement("div",{className:e,style:n},l.createElement("div",{className:`${H}-head-wrapper`},d&&l.createElement("div",{className:t,style:M("title")},d),i&&l.createElement("div",{className:r,style:M("extra")},i)),V)}const X=E()(`${H}-cover`,D("cover")),te=p?l.createElement("div",{className:X,style:M("cover")},p):null,re=E()(`${H}-body`,D("body")),ne=Object.assign(Object.assign({},c),M("body")),ae=l.createElement("div",{className:re,style:ne},u?W:v),oe=E()(`${H}-actions`,D("actions")),ie=(null==f?void 0:f.length)?l.createElement(ee,{actionClasses:oe,actionStyle:M("actions"),actions:f}):null,le=(0,A.Z)(k,["onTabChange"]),se=E()(H,null==B?void 0:B.className,{[`${H}-loading`]:u,[`${H}-bordered`]:m,[`${H}-hoverable`]:w,[`${H}-contain-grid`]:I,[`${H}-contain-tabs`]:null==x?void 0:x.length,[`${H}-${K}`]:K,[`${H}-type-${g}`]:!!g,[`${H}-rtl`]:"rtl"===z},n,a,F,_),ce=Object.assign(Object.assign({},null==B?void 0:B.style),o);return R(l.createElement("div",Object.assign({ref:t},le,{className:se,style:ce}),q,te,ae,ie))}));var re=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};var ne=e=>{const{prefixCls:t,className:r,avatar:n,title:a,description:o}=e,i=re(e,["prefixCls","className","avatar","title","description"]),{getPrefixCls:s}=l.useContext(T.E_),c=s("card",t),d=E()(`${c}-meta`,r),u=n?l.createElement("div",{className:`${c}-meta-avatar`},n):null,m=a?l.createElement("div",{className:`${c}-meta-title`},a):null,h=o?l.createElement("div",{className:`${c}-meta-description`},o):null,g=m||h?l.createElement("div",{className:`${c}-meta-detail`},m,h):null;return l.createElement("div",Object.assign({},i,{className:d}),u,g)};const ae=te;ae.Grid=O,ae.Meta=ne;var oe=ae,ie=r(54235),le=r(32699),se=r.n(le),ce=[{key:"worker_count",label:"dashboard.workers",backgroundColor:"var(--color-white-1)"},{key:"gpu_count",label:"dashboard.totalgpus",backgroundColor:"var(--color-white-1)"},{key:"model_count",label:"dashboard.models",backgroundColor:"var(--color-white-1)"},{key:"model_instance_count",label:"models.form.replicas",backgroundColor:"var(--color-white-1)"}],de="card-body___by6gK",ue="row___aaW9s",me="content___L6aNm",he=function(e){var t=e.label,r=e.value;e.bgColor;return(0,Z.jsx)(oe,{bordered:!1,style:{background:"var(--color-white-1)"},className:de,children:(0,Z.jsxs)("div",{className:me,children:[(0,Z.jsx)("div",{className:"label font-500",children:t}),(0,Z.jsx)("div",{className:"value font-500",children:r})]})})},ge=function(){var e=(0,g.useIntl)(),t=(0,l.useContext)(v).resource_counts||{};return(0,Z.jsx)("div",{children:(0,Z.jsx)(C.Z,{gutter:[24,20],className:ue,children:ce.map((function(r,n){return(0,Z.jsx)($.Z,{xs:{flex:"100%"},sm:{flex:"50%"},md:{flex:"50%"},lg:{flex:"25%"},xl:{flex:"25%"},children:he({label:e.formatMessage({id:r.label}),value:(a=se().get(t,r.key,0),"number"==typeof a?a:(0,Z.jsxs)(ie.Z,{className:"value-box",size:20,children:[(0,Z.jsx)("span",{className:"value-healthy",children:a.healthy}),(0,Z.jsx)("span",{className:"value-warning",children:a.warning}),(0,Z.jsx)("span",{className:"value-error",children:a.error})]})),bgColor:r.backgroundColor})},r.key);var a}))})})},pe=l.memo(ge),fe="cardWrapper___Q41EU",xe=function(e){var t=e.children,r=e.style;return(0,Z.jsx)("div",{className:fe,style:c()({},r),children:t})},ve=r(13636),be=r(29220),ye=r(30396),Se=function(e){var t=(0,be.Z)(),r=t.gaugeItemConfig,n=t.title,a=t.chartColorMap,o=e.value,i=e.height,l=e.width,s=e.labelFormatter,d=e.title,u=e.color;if(!o&&0!==o)return(0,Z.jsx)(ye.Z,{height:i,title:d});var m={title:c()(c()({},n),{},{text:d,top:"0",left:"center"}),series:[c()(c()({},r),{},{axisLine:c()(c()({},r.axisLine),{},{lineStyle:c()(c()({},r.axisLine.lineStyle),{},{color:[[o/100,u],[1,a.gaugeBgColor]]})}),itemStyle:{color:"transparent"},detail:c()(c()({},r.detail),{},{formatter:s||r.detail.formatter}),data:[{value:o}]})]};return(0,Z.jsx)(ve.Z,{height:i,options:m,width:l||"100%"})},we=(0,l.memo)(Se),je=r(37963),Ce=r(69997),$e=function(e){var t=e.seriesData,r=e.xAxisData,n=e.yAxisName,a=e.height,o=e.width,i=e.labelFormatter,s=e.tooltipValueFormatter,d=void 0===s?null:s,u=e.legendData,m=void 0===u?[]:u,h=e.smooth,g=e.title,p=(0,be.Z)(),f=p.grid,x=p.legend,v=p.lineItemConfig,b=p.title,y=p.tooltip,S=p.xAxis,w=p.yAxis,j={title:{text:""},grid:f,tooltip:c()(c()({},y),{},{formatter:function(e){return d?y.formatter(e,d):y.formatter(e)}}),xAxis:c()(c()({},S),{},{axisLabel:c()(c()({},S.axisLabel),{},{formatter:i})}),yAxis:w,legend:c()(c()({},x),{},{data:m.map((function(e){return{name:e,icon:"circle"}}))}),series:[]},C=(0,l.useMemo)((function(){var e=se().map(t,(function(e){return c()(c()(c()({},e),v),{},{smooth:h,itemStyle:c()(c()({},v.itemStyle),{},{color:e.color}),lineStyle:c()(c()({},v.lineStyle),{},{color:e.color})})}));return c()(c()({},j),{},{animation:!1,title:c()(c()({},b),{},{text:g}),yAxis:c()(c()({},j.yAxis),{},{name:n,nameTextStyle:{fontSize:12,align:"right"}}),xAxis:c()(c()({},j.xAxis),{},{data:r}),series:e})}),[t,r,n,g,h,m,j]);return(0,Z.jsx)(Z.Fragment,{children:t.length?(0,Z.jsx)(ve.Z,{height:a,options:C,width:o||"100%"}):(0,Z.jsx)(ye.Z,{height:a,title:g})})},ke=(0,l.memo)($e),Ze=r(7672),ze=r.n(Ze),Be={cpu:{label:"CPU",type:"CPU",intl:!1,color:"rgba(250, 173, 20,.8)"},ram:{label:"dashboard.memory",type:"Memory",intl:!0,color:"rgba(114, 46, 209,.8)"},gpu:{label:"GPU",type:"GPU",intl:!1,color:"rgba(84, 204, 152,.8)"},vram:{label:"dashboard.vram",type:"VRAM",intl:!0,color:"rgba(255, 107, 179, 80%)"}},De=function(){var e,t=(0,g.useIntl)(),r=(null===(e=(0,l.useContext)(v))||void 0===e||null===(e=e.system_load)||void 0===e?void 0:e.history)||{},n=["gpu","cpu","ram","vram"],a=(0,l.useMemo)((function(){var e=[],a=[];return{seriesData:se().map(n,(function(n){var o=se().get(Be,n,{}),i=o.intl?t.formatMessage({id:o.label}):o.label;e.push(i);var l=se().get(r,n,[]);return{name:i,color:o.color,data:se().map(l,(function(e){return a.push(ze()(1e3*e.timestamp).format("HH:mm:ss")),{time:ze()(1e3*e.timestamp).format("HH:mm:ss"),value:se().round(se().get(e,"value",0),1)}}))}})),legendData:e,xAxisData:se().uniq(a)}}),[r,t]);return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(ke,{height:390,seriesData:a.seriesData,legendData:a.legendData,xAxisData:a.xAxisData,tooltipValueFormatter:function(e){return e?"".concat(e,"%"):e},smooth:!0,width:"100%",yAxisName:"(%)"})})},Me=(0,l.memo)(De),Ee=function(e){return e<=50||void 0===e?"rgb(84, 204, 152, 80%)":e<=80?"rgba(250, 173, 20, 80%)":"rgba(255, 77, 79, 80%)"},Ae=function(){var e,t=(0,g.useIntl)(),r=(null===(e=(0,l.useContext)(v))||void 0===e||null===(e=e.system_load)||void 0===e?void 0:e.current)||{},n=(0,Ce.Z)().size,o=(0,l.useState)("20px"),i=a()(o,2),s=i[0],c=i[1],d=(0,l.useState)(190),u=a()(d,2),m=u[0],h=(u[1],(0,l.useState)(400)),p=a()(h,2),f=p[0],x=(p[1],(0,l.useMemo)((function(){return{gpu:{data:se().round(r.gpu||0,1),color:Ee(r.gpu)},vram:{data:se().round(r.vram||0,1),color:Ee(r.vram)},cpu:{data:se().round(r.cpu||0,1),color:Ee(r.cpu)},ram:{data:se().round(r.ram||0,1),color:Ee(r.ram)}}}),[r]));return(0,l.useEffect)((function(){n.width<je.Z.xl?c("0"):c("20px")}),[n.width]),(0,Z.jsx)("div",{children:(0,Z.jsxs)("div",{className:"system-load",children:[(0,Z.jsx)(S.Z,{style:{margin:"26px 0px"},left:(0,Z.jsx)("span",{className:"font-700",children:t.formatMessage({id:"dashboard.systemload"})})}),(0,Z.jsxs)(C.Z,{style:{width:"100%"},gutter:[0,20],children:[(0,Z.jsx)($.Z,{xs:24,sm:24,md:24,lg:24,xl:16,style:{paddingRight:s},children:(0,Z.jsx)(xe,{style:{height:400,width:"100%"},children:(0,Z.jsx)(Me,{})})}),(0,Z.jsx)($.Z,{xs:24,sm:24,md:24,lg:24,xl:8,children:(0,Z.jsx)(xe,{style:{height:f,width:"100%"},children:(0,Z.jsxs)(C.Z,{style:{height:f,width:"100%"},children:[(0,Z.jsx)($.Z,{span:12,style:{height:m},children:(0,Z.jsx)(we,{height:m,value:x.gpu.data,color:x.gpu.color,title:t.formatMessage({id:"dashboard.gpuutilization"})})}),(0,Z.jsx)($.Z,{span:12,style:{height:m},children:(0,Z.jsx)(we,{title:t.formatMessage({id:"dashboard.vramutilization"}),height:m,color:x.vram.color,value:x.vram.data})}),(0,Z.jsx)($.Z,{span:12,style:{height:m},children:(0,Z.jsx)(we,{title:t.formatMessage({id:"dashboard.cpuutilization"}),height:m,color:x.cpu.color,value:x.cpu.data})}),(0,Z.jsx)($.Z,{span:12,style:{height:m},children:(0,Z.jsx)(we,{title:t.formatMessage({id:"dashboard.memoryutilization"}),height:m,color:x.ram.color,value:x.ram.data})})]})})})]})]})})},Te=(0,l.memo)(Ae),Le=function(e){var t=e.seriesData,r=e.xAxisData,n=e.height,a=e.width,o=e.labelFormatter,i=(e.legendData,e.title),s=(0,be.Z)(),d=s.barItemConfig,u=s.grid,m=s.legend,h=s.title,g=s.tooltip,p=s.xAxis,f=s.yAxis,x=(0,l.useMemo)((function(){var e={title:{text:""},grid:u,tooltip:c()({},g),xAxis:c()(c()({},p),{},{axisLabel:c()(c()({},p.axisLabel),{},{formatter:o}),data:[]}),yAxis:f,legend:c()(c()({},m),{},{data:[]}),series:[]},n=se().map(t,(function(e){return c()(c()(c()({},e),d),{},{stack:"total",itemStyle:{color:e.color}})}));return c()(c()({},e),{},{animation:!1,title:c()(c()({},h),{},{text:i}),yAxis:c()({},e.yAxis),xAxis:c()(c()({},e.xAxis),{},{data:r}),series:n})}),[t,r,i,o,g,u,p,f,m,d]);return(0,Z.jsx)(Z.Fragment,{children:t.length?(0,Z.jsx)(ve.Z,{height:n,options:x,width:a||"100%"}):(0,Z.jsx)(ye.Z,{height:n,title:i})})},Ne=(0,l.memo)(Le),Pe=function(e){return ze()(e).format("MM-DD")},Ie=function(e){var t=e.requestData,r=e.tokenData,n=e.xAxisData,a=(0,g.useIntl)();return(0,Z.jsx)(xe,{style:{width:"100%"},children:(0,Z.jsxs)(C.Z,{style:{width:"100%"},children:[(0,Z.jsx)($.Z,{span:12,children:(0,Z.jsx)(ke,{title:a.formatMessage({id:"dashboard.apirequest"}),seriesData:t,xAxisData:n,height:360,labelFormatter:Pe})}),(0,Z.jsx)($.Z,{span:12,children:(0,Z.jsx)(Ne,{title:a.formatMessage({id:"dashboard.tokens"}),seriesData:r,xAxisData:n,height:360,labelFormatter:Pe})})]})})},Oe=l.memo(Ie),He=function(e){var t=e.seriesData,r=e.xAxisData,n=e.height,a=e.width,o=e.labelFormatter,i=(e.legendData,e.title),s=(0,be.Z)(),d=s.grid,u=s.legend,m=s.title,h=s.tooltip,g=s.xAxis,p=s.yAxis,f=(0,l.useMemo)((function(){var e={title:c()(c()({},m),{},{left:"start"}),grid:d,tooltip:c()({},h),xAxis:c()(c()({},g),{},{axisLabel:c()(c()({},g.axisLabel),{},{formatter:o})}),yAxis:p,legend:c()(c()({},u),{},{data:[]}),series:[]},n=se().map(t,(function(e){return c()(c()({},e),{},{type:"bar",barWidth:20,stack:"Ad",barGap:"30%",label:{show:!1},itemStyle:{color:e.color}})}));return c()(c()({},e),{},{animation:!1,title:c()(c()({},e.title),{},{text:i}),yAxis:c()(c()({},e.yAxis),{},{inverse:!0,type:"category",splitLine:{show:!1},data:r,axisLine:{show:!1},axisTick:{show:!1}}),xAxis:c()(c()({},e.xAxis),{},{type:"value",splitLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1}}),series:n})}),[t,r,i,o,h,d,g,p,u]);return(0,Z.jsx)(Z.Fragment,{children:t.length?(0,Z.jsx)(ve.Z,{height:n,options:f,width:a||"100%"}):(0,Z.jsx)(ye.Z,{height:n,title:i})})},Re=(0,l.memo)(He),Fe=function(e){var t=e.userData,r=e.topUserList,n=(0,g.useIntl)();return(0,Z.jsx)(xe,{children:(0,Z.jsx)(Re,{title:n.formatMessage({id:"dashboard.topusers"}),seriesData:t,xAxisData:r,height:360})})},_e=l.memo(Fe),We=r(15558),Ge=r.n(We),Ue="rgba(0,85,255,0.8)",qe="rgba(85,167,255,0.8)",Ke=function(e){return new Map(e.map((function(e){return[ze()(1e3*e.timestamp).format("YYYY-MM-DD"),e.value]})))},Ye=function(e,t){return e.map((function(e){return{time:e,value:t.get(e)||0}}))};function Ve(e){return(0,l.useMemo)((function(){var t=function(){for(var e=[],t=29;t>=0;t--){var r=ze()().subtract(t,"day").format("YYYY-MM-DD");e.push(r)}return e}(),r=e.completion_token_history||[],n=e.prompt_token_history||[],a=e.api_request_history||[],o=e.top_users||[];if(!r.length)return{requestTokenData:{requestData:[],tokenData:[],xAxisData:[]},topUserData:{userData:[],topUserList:[]}};var i={name:"API requests",areaStyle:{},color:Ue,data:Ye(t,Ke(a))},l={name:"Completion tokens",color:Ue,data:Ye(t,Ke(r))},s={name:"Prompt tokens",color:qe,data:Ye(t,Ke(n))},c={name:"Prompt tokens",color:qe,data:[]},d={name:"Completion tokens",color:Ue,data:[]},u=o.map((function(e){return c.data.push({name:e.username,value:e.prompt_token_count}),d.data.push({name:e.username,value:e.completion_token_count}),e.username}));return{requestTokenData:{requestData:[i],tokenData:[l,s],xAxisData:t},topUserData:{userData:[d,c],topUserList:Ge()(new Set(u))}}}),[e])}var Xe=function(e){var t=e.paddingRight,r=(0,g.useIntl)(),n=Ve((0,l.useContext)(v).model_usage||{}),a=n.requestTokenData,o=n.topUserData;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(S.Z,{style:{margin:"26px 0px"},left:(0,Z.jsx)("span",{className:"font-700",children:r.formatMessage({id:"dashboard.usage"})})}),(0,Z.jsxs)(C.Z,{style:{width:"100%"},gutter:[0,20],children:[(0,Z.jsx)($.Z,{xs:24,sm:24,md:24,lg:24,xl:16,style:{paddingRight:t},children:(0,Z.jsx)(Oe,{requestData:a.requestData,xAxisData:a.xAxisData,tokenData:a.tokenData})}),(0,Z.jsx)($.Z,{xs:24,sm:24,md:24,lg:24,xl:8,children:(0,Z.jsx)(_e,{userData:o.userData,topUserList:o.topUserList})})]})]})},Je=(0,l.memo)(Xe),Qe=function(){var e=(0,Ce.Z)().size.width,t=(0,l.useState)("20px"),r=a()(t,2),n=r[0],o=r[1];return(0,l.useEffect)((function(){e<je.Z.xl?o("0"):o("20px")}),[e]),(0,Z.jsx)(Je,{paddingRight:n})},et=function(e){var t=e.setLoading,r=(0,l.useState)({}),n=a()(r,2),o=n[0],i=n[1],s=(0,l.useCallback)(h()(u()().mark((function e(){var r;return u()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(!0),e.next=4,f();case 4:r=e.sent,i(r),t(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t(!1),i({});case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),[]);return(0,l.useEffect)((function(){s()}),[]),(0,Z.jsxs)(b.Provider,{value:c()(c()({},o),{},{fetchData:s}),children:[(0,Z.jsx)(pe,{}),(0,Z.jsx)(Te,{}),(0,Z.jsx)(Qe,{}),(0,Z.jsx)(D,{})]})},tt=(0,l.memo)(et),rt=function(){var e=(0,l.useState)(!1),t=a()(e,2),r=t[0],n=t[1];return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(o._z,{ghost:!0,extra:[],header:{style:{paddingInline:"var(--layout-content-header-inlinepadding)"}},children:(0,Z.jsx)(i.Z,{spinning:r,children:(0,Z.jsx)(tt,{setLoading:n})})})})},nt=(0,l.memo)(rt)},7922:function(e,t,r){var n=r(38675);t.Z=n.Z},81745:function(e,t,r){var n=r(43715);t.Z=n.Z}}]);