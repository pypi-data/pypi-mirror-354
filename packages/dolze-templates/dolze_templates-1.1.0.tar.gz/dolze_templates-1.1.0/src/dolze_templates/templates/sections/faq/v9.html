<section class="relative py-24 bg-white overflow-hidden" id="faq">
  <!-- Elegant background patterns -->
  <div class="absolute inset-0">
    <div class="absolute top-20 right-20 w-36 h-36 bg-gradient-to-br from-violet-300/8 to-purple-300/8 rounded-[2rem] animate-elegant-float"></div>
    <div class="absolute bottom-20 left-20 w-44 h-44 bg-gradient-to-br from-fuchsia-300/8 to-pink-300/8 rounded-full animate-elegant-float animation-delay-3000"></div>
  </div>

  <div class="relative z-10 max-w-4xl mx-auto px-6 sm:px-8 lg:px-12">
    <!-- Section Header -->
    <div class="text-center mb-16">
      <!-- Section Badge -->
      <div class="inline-flex items-center mb-6 px-6 py-2 bg-violet-100/70 backdrop-blur-md border border-violet-200/40 rounded-full text-violet-700 font-medium text-sm tracking-wide animate-luxury-fade">
        <span class="flex h-2 w-2 rounded-full bg-gradient-to-r from-violet-500 to-fuchsia-500 mr-3 animate-pulse"></span>
        <span class="font-semibold">Frequently Asked</span>
      </div>

      <!-- Title -->
      <h2 class="text-4xl md:text-5xl lg:text-6xl font-black mb-6 leading-tight tracking-tight">
        <span class="block text-transparent bg-clip-text bg-gradient-to-r from-violet-600 via-purple-600 to-fuchsia-600 luxury-text">
          {{ sections.faq.title }}
        </span>
      </h2>

      <!-- Subtitle -->
      <p class="text-xl text-slate-600 font-light leading-relaxed luxury-description">
        {{ sections.faq.subtitle }}
      </p>
    </div>

    <!-- FAQ Accordion -->
    <div class="space-y-4">
      {% for item in sections.faq.items %}
      <div class="luxury-faq-item bg-white/60 backdrop-blur-md rounded-2xl border border-violet-100/50 overflow-hidden hover:shadow-xl hover:shadow-violet-100/30 transition-all duration-500">
        
        <!-- Question Button -->
        <button class="faq-question w-full px-8 py-6 text-left flex items-center justify-between focus:outline-none group" data-faq-toggle>
          <span class="text-lg font-semibold text-slate-800 group-hover:text-violet-600 transition-colors duration-300 pr-4">
            {{ item.question }}
          </span>
          
          <!-- Toggle Icon -->
          <div class="faq-icon flex-shrink-0 w-8 h-8 bg-gradient-to-br from-violet-500 to-fuchsia-500 rounded-lg flex items-center justify-center text-white transition-all duration-300 group-hover:scale-110">
            <svg class="w-5 h-5 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
            </svg>
          </div>
        </button>

        <!-- Answer Content -->
        <div class="faq-answer overflow-hidden transition-all duration-500 max-h-0">
          <div class="px-8 pb-6 pt-2">
            <div class="w-full h-px bg-gradient-to-r from-violet-200 via-purple-200 to-fuchsia-200 mb-4"></div>
            <p class="text-slate-600 leading-relaxed">
              {{ item.answer }}
            </p>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>

    <!-- Bottom CTA -->
    <div class="text-center mt-16">
      <div class="inline-flex items-center mb-6 px-6 py-3 bg-gradient-to-r from-violet-100/80 to-fuchsia-100/80 backdrop-blur-md border border-violet-200/50 rounded-xl">
        <div class="w-10 h-10 bg-gradient-to-br from-violet-500 to-fuchsia-500 rounded-lg flex items-center justify-center text-white mr-3 shadow-lg">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
        </div>
        <div class="text-left">
          <p class="text-sm text-violet-600 font-medium">Still have questions?</p>
          <p class="text-lg font-bold text-slate-800">We're here to help</p>
        </div>
      </div>

      <a href="#contact" class="luxury-faq-button inline-flex items-center space-x-3 bg-gradient-to-r from-violet-600 to-fuchsia-600 text-white px-10 py-4 rounded-2xl font-bold text-lg tracking-wide transition-all duration-500 hover:shadow-2xl hover:shadow-violet-300/50 hover:-translate-y-2 overflow-hidden relative">
        <span class="relative z-10">Contact Support</span>
        <svg class="relative z-10 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
        </svg>
      </a>
    </div>
  </div>
</section>

<style>
  /* FAQ Section Luxury Styles */
  .luxury-text {
    font-family: 'Playfair Display', serif;
    background-size: 300% 300%;
    animation: gradient-shift 6s ease infinite;
  }

  .luxury-description {
    animation: luxury-fade 1.5s cubic-bezier(0.4, 0, 0.2, 1) 0.3s forwards;
    opacity: 0;
  }

  .luxury-faq-item {
    position: relative;
    backdrop-filter: blur(20px);
  }

  .luxury-faq-item::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(168, 85, 247, 0.02), rgba(217, 70, 239, 0.05));
    border-radius: inherit;
    opacity: 0;
    transition: opacity 0.5s ease;
  }

  .luxury-faq-item:hover::before {
    opacity: 1;
  }

  .faq-answer {
    transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .faq-answer.open {
    max-height: 200px;
  }

  .faq-icon.open svg {
    transform: rotate(45deg);
  }

  .luxury-faq-button {
    position: relative;
    overflow: hidden;
  }

  .luxury-faq-button::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    transition: left 0.7s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .luxury-faq-button:hover::before {
    left: 100%;
  }

  @keyframes gradient-shift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  @keyframes luxury-fade {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes elegant-float {
    0% { transform: translateY(0px) rotate(0deg); }
    33% { transform: translateY(-10px) rotate(2deg); }
    66% { transform: translateY(5px) rotate(-1deg); }
    100% { transform: translateY(0px) rotate(0deg); }
  }

  .animate-elegant-float {
    animation: elegant-float 10s ease-in-out infinite;
  }

  .animate-luxury-fade {
    animation: luxury-fade 1.2s ease-out forwards;
  }

  .animation-delay-3000 { animation-delay: 3s; }

  /* Responsive adjustments */
  @media (max-width: 1024px) {
    .luxury-text {
      font-size: clamp(2rem, 6vw, 3rem);
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // FAQ Accordion functionality
    const faqButtons = document.querySelectorAll('[data-faq-toggle]');
    
    faqButtons.forEach(button => {
      button.addEventListener('click', () => {
        const faqItem = button.closest('.luxury-faq-item');
        const answer = faqItem.querySelector('.faq-answer');
        const icon = button.querySelector('.faq-icon');
        
        // Close all other FAQ items
        faqButtons.forEach(otherButton => {
          if (otherButton !== button) {
            const otherItem = otherButton.closest('.luxury-faq-item');
            const otherAnswer = otherItem.querySelector('.faq-answer');
            const otherIcon = otherButton.querySelector('.faq-icon');
            
            otherAnswer.classList.remove('open');
            otherIcon.classList.remove('open');
          }
        });
        
        // Toggle current FAQ item
        answer.classList.toggle('open');
        icon.classList.toggle('open');
      });
    });

    // Intersection Observer for animations
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.opacity = '1';
          entry.target.style.transform = 'translateY(0)';
        }
      });
    }, { threshold: 0.1 });

    // Animate FAQ items with stagger
    const faqItems = document.querySelectorAll('.luxury-faq-item');
    faqItems.forEach((item, index) => {
      item.style.opacity = '0';
      item.style.transform = 'translateY(30px)';
      item.style.transition = `all 0.6s cubic-bezier(0.4, 0, 0.2, 1) ${index * 0.1}s`;
      observer.observe(item);
    });
  });
</script>
