[build-system]
build-backend = "setuptools.build_meta"
requires = [
  "setuptools"
]

[dependency-groups]
build = [
  "setuptools"
]
dev = [
  "pytest>=8.3.5",
  "tomli>=2.2.1",
  "tomli_w>=1.2.0",
  "uv-publish>=1.2.0"
]
docs = [
  "sphinx>=8.1.3",
  "sphinx-autodoc-typehints>=3.0.1",
  "sphinx-rtd-dark-mode>=1.3.0",
  "sphinx-rtd-theme>=3.0.2"
]

[project]
authors = [
  {name = "Alex Kalaverin", email = "alex@kalaver.in"}
]
classifiers = [
  "Intended Audience :: Developers",
  "Programming Language :: Python",
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "License :: OSI Approved :: BSD License",
  "Operating System :: OS Independent"
]
dependencies = [
  "aio-pika>=9.5.5",
  "aiormq>=6.8.1",
  "fair-async-rlock>=1.0.7",
  "kalib",
  "pamqp>=3.3.0",
  "uv>=0.6.17",
]
description = "karq"
name = "karq"
readme = "README.md"
requires-python = ">=3.10,<3.12"
version = "0.0.1"

[project.urls]
Homepage = "https://kalaver.in"

[tool.black]
extend = "ci/pyproject.toml"

[tool.mypy]
ignore_missing_imports = true

[tool.ruff]
extend = "ci/pyproject.toml"

[tool.ruff.lint.isort]
known-first-party = [
  "karq"
]
known-third-party = [
  "kalib"
]

[tool.setuptools]
packages = ["karq"]

[tool.setuptools.package-dir]
"" = "src"

[tool.uv]
default-groups = [
  "dev",
  "docs"
]
index-strategy = "unsafe-best-match"
package = true

[tool.yamlfix]
line_length = 89
preserve_quotes = false
quote_basic_values = false
quote_representation = "'"
section_whitelines = 1
sequence_style = "block_style"
whitelines = 1
