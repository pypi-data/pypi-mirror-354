[build-system]
requires = ["setuptools>=45", "wheel", "setuptools_scm>=6.2"]

[tool.setuptools_scm]
write_to = "achtung/_version.py"

[project]
name = "tangods-achtung"
description = "Achtung, a Tango device for managing alarms (Panic compatible)"
dynamic = ["version"]
authors = [
  {name = "KITS Software", email = "kits-sw@maxiv.lu.se"},
]
requires-python = ">=3.9"
readme = "README.md"
license = {file = "LICENSE.txt"}
dependencies = [
    "pytango",
    "pyparsing",
    "httpx",
]

[tool.setuptools]
packages = ["achtung"]

[tool.pytest.ini_options]
asyncio_mode = "auto"
asyncio_default_fixture_loop_scope = "function"

[project.optional-dependencies]
tests = [
    "pytest-forked",
    "pytest-asyncio",
    "pytest-mock",
    "pytest-httpx",
    "pytest-httpserver",
    "pytango-db==0.4.0",  # Compatibility with pytango <= 9.3
]

[project.urls]
Homepage = "http://www.maxiv.lu.se"
Repository = "https://gitlab.com/MaxIV/dev-maxiv-achtung"

[project.scripts]
Achtung = "achtung.achtung:main"
